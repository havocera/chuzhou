(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d8ca3ce"],{"086c":function(e,t,o){"use strict";o("4a05")},1934:function(e,t,o){(function(n){function a(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+t.humanize(this.diff),o){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(r=a))})),e.splice(r,0,n)}}function i(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(o){}}function s(){var e;try{e=t.storage.debug}catch(o){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",BASE_URL:"/"}).DEBUG),e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=o("6d1a"),t.log=i,t.formatArgs=r,t.save=l,t.load=s,t.useColors=a,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(s())}).call(this,o("4362"))},4173:function(e,t){var o=1e3,n=60*o,a=60*n,r=24*a,i=365.25*r;function l(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var l=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return l*i;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*a;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function s(e){return e>=r?Math.round(e/r)+"d":e>=a?Math.round(e/a)+"h":e>=n?Math.round(e/n)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function c(e){return d(e,r,"day")||d(e,a,"hour")||d(e,n,"minute")||d(e,o,"second")||e+" ms"}function d(e,t,o){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+o:Math.ceil(e/t)+" "+o+"s"}e.exports=function(e,t){t=t||{};var o=typeof e;if("string"===o&&e.length>0)return l(e);if("number"===o&&!1===isNaN(e))return t.long?c(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"4a05":function(e,t,o){},"594c":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[e._v("产地信息")]),o("el-breadcrumb-item",[e._v("上传产地信息")])],1),o("el-card",{staticClass:"box-card"},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:6}},[o("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入地块名称"},on:{clear:e.getLandInfoList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getLandInfoList},slot:"append"})],1)],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增地块")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.landInfoList}},[o("el-table-column",{attrs:{label:"编号",type:"index"}}),o("el-table-column",{attrs:{prop:"qymc",label:"生产企业名称",width:"180"}}),o("el-table-column",{attrs:{prop:"chandi",label:"地块名称",width:"180"}}),o("el-table-column",{attrs:{prop:"detailAddress",label:"地块详细地址"}}),o("el-table-column",{attrs:{prop:"lng",label:"经度"}}),o("el-table-column",{attrs:{prop:"lat",label:"纬度"}}),o("el-table-column",{attrs:{prop:"yt",label:"用途"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.editPlaceInfo(t.row.bh)}}})],1),o("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top-end"}},[o("el-button",{attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(o){return e.delPlaceInfo(t.row.bh)}}})],1)]}}])})],1),o("el-pagination",{attrs:{"current-page":e.queryInfo.current_page,background:"",layout:"prev, pager,next,total",total:e.total,"page-size":e.queryInfo.pageSize},on:{"current-change":e.handleCurrentChange}}),o("el-dialog",{attrs:{width:"30%",title:"新增地块",visible:e.addDialogVisible},on:{close:e.clearAddForm,"update:visible":function(t){e.addDialogVisible=t}}},[o("el-form",{ref:"addFormRef",attrs:{model:e.addDialogFormInfo,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"详细地址",prop:"detailAddress"}},[o("el-input",{attrs:{autocomplete:"off"},on:{input:function(t){return e.addFormGetLng()}},model:{value:e.addDialogFormInfo.detailAddress,callback:function(t){e.$set(e.addDialogFormInfo,"detailAddress",t)},expression:"addDialogFormInfo.detailAddress"}})],1),o("el-form-item",{attrs:{label:"经度",prop:"lng"}},[o("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.addDialogFormInfo.lng,callback:function(t){e.$set(e.addDialogFormInfo,"lng",t)},expression:"addDialogFormInfo.lng"}})],1),o("el-form-item",{attrs:{label:"纬度",prop:"lat"}},[o("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.addDialogFormInfo.lat,callback:function(t){e.$set(e.addDialogFormInfo,"lat",t)},expression:"addDialogFormInfo.lat"}})],1),o("el-form-item",{attrs:{label:"地块名称",prop:"chandi"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addDialogFormInfo.chandi,callback:function(t){e.$set(e.addDialogFormInfo,"chandi",t)},expression:"addDialogFormInfo.chandi"}})],1),o("el-form-item",{attrs:{label:"地块用途",prop:"yt"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addDialogFormInfo.yt,callback:function(t){e.$set(e.addDialogFormInfo,"yt",t)},expression:"addDialogFormInfo.yt"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addPlaceSubmit}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"编辑产地",visible:e.editDialogVisible,width:"30%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[o("el-form",{attrs:{model:e.editFormInfo,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"详细地址",prop:"detailAddress"}},[o("el-input",{attrs:{autocomplete:"off"},on:{input:function(t){return e.editFormGetLng()}},model:{value:e.editFormInfo.detailAddress,callback:function(t){e.$set(e.editFormInfo,"detailAddress",t)},expression:"editFormInfo.detailAddress"}})],1),o("el-form-item",{attrs:{label:"经度",prop:"lng"}},[o("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.editFormInfo.lng,callback:function(t){e.$set(e.editFormInfo,"lng",t)},expression:"editFormInfo.lng"}})],1),o("el-form-item",{attrs:{label:"纬度",prop:"lat"}},[o("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.editFormInfo.lat,callback:function(t){e.$set(e.editFormInfo,"lat",t)},expression:"editFormInfo.lat"}})],1),o("el-form-item",{attrs:{label:"地块名称",prop:"chandi"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.editFormInfo.chandi,callback:function(t){e.$set(e.editFormInfo,"chandi",t)},expression:"editFormInfo.chandi"}})],1),o("el-form-item",{attrs:{label:"地块用途",prop:"yt"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.editFormInfo.yt,callback:function(t){e.$set(e.editFormInfo,"yt",t)},expression:"editFormInfo.yt"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.editPlaceInfoSubmit}},[e._v("确 定")])],1)],1)],1)],1)},a=[],r=o("1da1"),i=(o("96cf"),o("bc3a"),o("f2e8")),l=o.n(i),s={data:function(){return{queryInfo:{query:"",current_page:1,pageSize:5},tokenStr:"",landInfoList:[],total:0,addDialogVisible:!1,addDialogFormInfo:{token:"",detailAddress:"",lng:"",lat:"",chandi:"",yt:""},editFormInfo:{},editDialogVisible:!1}},created:function(){this.getLandInfoList(),this.getTokenStr()},methods:{getLandInfoList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=window.sessionStorage.getItem("token"),t.next=3,e.$http.post("PlaceInfo",{token:o,page:e.queryInfo.current_page,query:e.queryInfo.query});case 3:if(n=t.sent,a=n.data,0===a.code){t.next=7;break}return t.abrupt("return",e.$message.error("获取产地列表数据失败！"));case 7:e.landInfoList=a.data.result,e.total=a.data.total,console.log(e.landInfoList),console.log(a.data.result[0]);case 11:case"end":return t.stop()}}),t)})))()},addFormGetLng:function(){var e=this;l()("http://api.map.baidu.com/geocoding/v3/?address="+this.addDialogFormInfo.detailAddress+"&output=json&ak=4Yk2x2mLvNAvAhCSgFEAWMz2BGKp7Ok7&callback=showLocation",{},(function(t,o){e.addDialogFormInfo.lng=o.result.location.lng,e.addDialogFormInfo.lat=o.result.location.lat}))},editFormGetLng:function(){var e=this;l()("http://api.map.baidu.com/geocoding/v3/?address="+this.editFormInfo.detailAddress+"&output=json&ak=4Yk2x2mLvNAvAhCSgFEAWMz2BGKp7Ok7&callback=showLocation",{},(function(t,o){e.editFormInfo.lng=o.result.location.lng,e.editFormInfo.lat=o.result.location.lat}))},handleCurrentChange:function(e){this.queryInfo.current_page=e,this.getLandInfoList()},addPlaceSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addDialogFormInfo.token=e.tokenStr,t.next=3,e.$http.post("AddPlaceInfo",e.addDialogFormInfo);case 3:if(o=t.sent,n=o.data,console.log(n),0===n.code){t.next=8;break}return t.abrupt("return",e.$message.error("新增产地失败"));case 8:e.addDialogVisible=!1,e.getLandInfoList();case 10:case"end":return t.stop()}}),t)})))()},getTokenStr:function(){this.tokenStr=window.sessionStorage.getItem("token")},clearAddForm:function(){this.$refs.addFormRef.resetFields()},editPlaceInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var n,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.editDialogVisible=!0,t.editFormInfo.detailAddress="",o.next=4,t.$http.post("EditPlaceInfo",{token:t.tokenStr,bh:e});case 4:n=o.sent,a=n.data,t.editFormInfo=a.data,console.log(e,a);case 8:case"end":return o.stop()}}),o)})))()},editPlaceInfoSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editFormInfo.token=e.tokenStr,t.next=3,e.$http.post("DoEditPlaceInfo",e.editFormInfo);case 3:o=t.sent,n=o.data,console.log(n),e.editDialogVisible=!1,e.getLandInfoList();case 8:case"end":return t.stop()}}),t)})))()},delPlaceInfo:function(e){var t=this;console.log(e),this.$confirm("此操作将永久删除该产地信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.post("DelPlaceInfo",{token:t.tokenStr,bh:e}),t.$message({type:"success",message:"删除成功!"}),t.getLandInfoList()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},c=s,d=(o("086c"),o("2877")),u=Object(d["a"])(c,n,a,!1,null,"169f1f6d",null);t["default"]=u.exports},"6d1a":function(e,t,o){var n;function a(e){var o,n=0;for(o in e)n=(n<<5)-n+e.charCodeAt(o),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function r(e){function o(){if(o.enabled){var e=o,a=+new Date,r=a-(n||a);e.diff=r,e.prev=n,e.curr=a,n=a;for(var i=new Array(arguments.length),l=0;l<i.length;l++)i[l]=arguments[l];i[0]=t.coerce(i[0]),"string"!==typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(o,n){if("%%"===o)return o;s++;var a=t.formatters[n];if("function"===typeof a){var r=i[s];o=a.call(e,r),i.splice(s,1),s--}return o})),t.formatArgs.call(e,i);var c=o.log||t.log||console.log.bind(console);c.apply(e,i)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=a(e),"function"===typeof t.init&&t.init(o),o}function i(e){t.save(e),t.names=[],t.skips=[];for(var o=("string"===typeof e?e:"").split(/[\s,]+/),n=o.length,a=0;a<n;a++)o[a]&&(e=o[a].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function l(){t.enable("")}function s(e){var o,n;for(o=0,n=t.skips.length;o<n;o++)if(t.skips[o].test(e))return!1;for(o=0,n=t.names.length;o<n;o++)if(t.names[o].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r.debug=r["default"]=r,t.coerce=c,t.disable=l,t.enable=i,t.enabled=s,t.humanize=o("4173"),t.names=[],t.skips=[],t.formatters={}},f2e8:function(e,t,o){var n=o("1934")("jsonp");e.exports=i;var a=0;function r(){}function i(e,t,o){"function"==typeof t&&(o=t,t={}),t||(t={});var i,l,s=t.prefix||"__jp",c=t.name||s+a++,d=t.param||"callback",u=null!=t.timeout?t.timeout:6e4,f=encodeURIComponent,m=document.getElementsByTagName("script")[0]||document.head;function p(){i.parentNode&&i.parentNode.removeChild(i),window[c]=r,l&&clearTimeout(l)}function g(){window[c]&&p()}return u&&(l=setTimeout((function(){p(),o&&o(new Error("Timeout"))}),u)),window[c]=function(e){n("jsonp got",e),p(),o&&o(null,e)},e+=(~e.indexOf("?")?"&":"?")+d+"="+f(c),e=e.replace("?&","?"),n('jsonp req "%s"',e),i=document.createElement("script"),i.src=e,m.parentNode.insertBefore(i,m),g}}}]);
//# sourceMappingURL=chunk-1d8ca3ce.5202b0fa.js.map
{"version":3,"sources":["webpack:///./src/components/enterprise/productInfo/productInfo.vue?a6ff","webpack:///./src/components/enterprise/productInfo/productInfo.vue?4f15","webpack:///src/components/enterprise/productInfo/productInfo.vue","webpack:///./src/components/enterprise/productInfo/productInfo.vue?e638","webpack:///./src/components/enterprise/productInfo/productInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","on","getproductList","model","value","queryInfo","callback","$$v","$set","expression","queryMsg","slot","$event","addDialogVisible","staticStyle","productList","scopedSlots","_u","key","fn","scope","row","picname","showEditDialog","bh","removeById","current_page","total","pageSize","handleCurrentChange","addFormClosed","ref","FormRules","addProductForm","uploadURL","successEvent","handlePreview","handleRemove","addProductSubmit","editDialogVisible","editProductForm","editProductSubmit","staticRenderFns","data","query","editProductFormPicname","tokenStr","headerObj","token","cpmc","created","setUploadURL","methods","newPage","console","log","$refs","addFormRef","resetFields","upload","clearFiles","component"],"mappings":"2IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAAC,kBAAkB,wBAAwB,CAACF,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,CAAEC,KAAM,OAAQ,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,qBAAqB,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,qBAAqB,CAACJ,EAAIQ,GAAG,aAAa,GAAGJ,EAAG,UAAU,CAACK,YAAY,YAAY,CAACL,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,WAAW,CAACK,YAAY,oBAAoBH,MAAM,CAAC,UAAY,GAAG,YAAc,SAASI,GAAG,CAAC,MAAQV,EAAIW,gBAAgBC,MAAM,CAACC,MAAOb,EAAIc,UAAe,MAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,UAAW,QAASE,IAAME,WAAW,oBAAoB,CAACd,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,kBAAkBI,GAAG,CAAC,MAAQV,EAAImB,UAAUC,KAAK,YAAY,IAAI,GAAGhB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQ,SAASW,GAAQrB,EAAIsB,kBAAiB,KAAQ,CAACtB,EAAIQ,GAAG,WAAW,IAAI,GAAGJ,EAAG,WAAW,CAACmB,YAAY,CAAC,MAAQ,QAAQjB,MAAM,CAAC,KAAON,EAAIwB,cAAc,CAACpB,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,SAAS,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,OAAO,MAAQ,OAAOmB,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACzB,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMuB,EAAMC,IAAIC,QAAQ,IAAM,OAAO,MAAQ,QAAQ,OAAS,kBAAkB3B,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,OAAO,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,MAAM,MAAQ,YAAY,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,yBAAwB,EAAK,KAAO,KAAK,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAOmB,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACzB,EAAG,aAAa,CAACK,YAAY,OAAOH,MAAM,CAAC,OAAS,OAAO,QAAU,KAAK,UAAY,cAAc,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,gBAAgBI,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOrB,EAAIgC,eAAeH,EAAMC,IAAIG,SAAS,GAAG7B,EAAG,aAAa,CAACK,YAAY,OAAOH,MAAM,CAAC,OAAS,OAAO,QAAU,KAAK,UAAY,YAAY,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,kBAAkBI,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOrB,EAAIkC,WAAWL,EAAMC,IAAIG,SAAS,WAAW,GAAG7B,EAAG,gBAAgB,CAACE,MAAM,CAAC,eAAeN,EAAIc,UAAUqB,aAAa,WAAa,GAAG,OAAS,2BAA2B,MAAQnC,EAAIoC,MAAM,YAAYpC,EAAIc,UAAUuB,UAAU3B,GAAG,CAAC,iBAAiBV,EAAIsC,wBAAwB,GAAGlC,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,QAAUN,EAAIsB,iBAAiB,MAAQ,OAAOZ,GAAG,CAAC,iBAAiB,SAASW,GAAQrB,EAAIsB,iBAAiBD,GAAQ,MAAQrB,EAAIuC,gBAAgB,CAACnC,EAAG,UAAU,CAACoC,IAAI,aAAalC,MAAM,CAAC,MAAQN,EAAIyC,UAAU,QAAU,sBAAsB,MAAQzC,EAAI0C,eAAe,cAAc,SAAS,CAACtC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACF,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAI0C,eAAmB,KAAE3B,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAI0C,eAAgB,OAAQ1B,IAAME,WAAW,0BAA0B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAW,IAAIM,MAAM,CAACC,MAAOb,EAAI0C,eAAsB,QAAE3B,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAI0C,eAAgB,UAAW1B,IAAME,WAAW,6BAA6B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAACoC,IAAI,SAAS/B,YAAY,cAAcH,MAAM,CAAC,KAAO,QAAQ,OAASN,EAAI2C,UAAU,aAAa3C,EAAI4C,aAAa,aAAa5C,EAAI6C,cAAc,YAAY7C,EAAI8C,aAAa,YAAY,YAAY,CAAC1C,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACK,YAAY,iBAAiBH,MAAM,CAAC,KAAO,OAAOc,KAAK,OAAO,CAACpB,EAAIQ,GAAG,oCAAoC,IAAI,GAAGJ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACF,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAI0C,eAAmB,KAAE3B,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAI0C,eAAgB,OAAQ1B,IAAME,WAAW,0BAA0B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,QAAQM,MAAM,CAACC,MAAOb,EAAI0C,eAAkB,IAAE3B,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAI0C,eAAgB,MAAO1B,IAAME,WAAW,yBAAyB,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,IAAI,KAAO,YAAYM,MAAM,CAACC,MAAOb,EAAI0C,eAAiB,GAAE3B,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAI0C,eAAgB,KAAM1B,IAAME,WAAW,wBAAwB,IAAI,GAAGd,EAAG,OAAO,CAACK,YAAY,gBAAgBH,MAAM,CAAC,KAAO,UAAUc,KAAK,UAAU,CAAChB,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASW,GAAQrB,EAAIsB,kBAAmB,KAAS,CAACtB,EAAIQ,GAAG,SAASJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQV,EAAI+C,mBAAmB,CAAC/C,EAAIQ,GAAG,UAAU,IAAI,GAAGJ,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,QAAUN,EAAIgD,kBAAkB,MAAQ,OAAOtC,GAAG,CAAC,iBAAiB,SAASW,GAAQrB,EAAIgD,kBAAkB3B,KAAU,CAACjB,EAAG,UAAU,CAACoC,IAAI,cAAclC,MAAM,CAAC,MAAQN,EAAIiD,gBAAgB,cAAc,SAAS,CAAC7C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAW,IAAIM,MAAM,CAACC,MAAOb,EAAIiD,gBAAoB,KAAElC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIiD,gBAAiB,OAAQjC,IAAME,WAAW,2BAA2B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAIiD,gBAAoB,KAAElC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIiD,gBAAiB,OAAQjC,IAAME,WAAW,2BAA2B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAW,IAAIM,MAAM,CAACC,MAAOb,EAAIiD,gBAAuB,QAAElC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIiD,gBAAiB,UAAWjC,IAAME,WAAW,8BAA8B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAACoC,IAAI,gBAAgB/B,YAAY,cAAcH,MAAM,CAAC,KAAO,QAAQ,OAASN,EAAI2C,UAAU,aAAa3C,EAAI4C,aAAa,aAAa5C,EAAI6C,cAAc,YAAY7C,EAAI8C,aAAa,YAAY,YAAY,CAAC1C,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACK,YAAY,iBAAiBH,MAAM,CAAC,KAAO,OAAOc,KAAK,OAAO,CAACpB,EAAIQ,GAAG,oCAAoC,IAAI,GAAGJ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAIiD,gBAAoB,KAAElC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIiD,gBAAiB,OAAQjC,IAAME,WAAW,2BAA2B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,QAAQM,MAAM,CAACC,MAAOb,EAAIiD,gBAAmB,IAAElC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIiD,gBAAiB,MAAOjC,IAAME,WAAW,0BAA0B,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAKM,MAAM,CAACC,MAAOb,EAAIiD,gBAAkB,GAAElC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIiD,gBAAiB,KAAMjC,IAAME,WAAW,yBAAyB,IAAI,GAAGd,EAAG,OAAO,CAACK,YAAY,gBAAgBH,MAAM,CAAC,KAAO,UAAUc,KAAK,UAAU,CAAChB,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASW,GAAQrB,EAAIgD,mBAAoB,KAAS,CAAChD,EAAIQ,GAAG,SAASJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQV,EAAIkD,oBAAoB,CAAClD,EAAIQ,GAAG,WAAW,IAAI,IAAI,IACjgO2C,EAAkB,G,YC4KtB,G,8BAAA,CACEC,KADF,WAEI,MAAO,CAELtC,UAAW,CACTuC,MAAO,GAEPhB,SAAR,EAEQF,aAAc,GAEhBC,MAAN,EACMZ,YAAN,GACMF,kBAAN,EAEMoB,eAAN,CACQ,MAAR,GACQ,KAAR,GACQ,QAAR,GACQ,KAAR,GACQ,IAAR,GACQ,GAAR,IAEMO,gBAAN,GACMK,uBAAN,GACMN,mBAAN,EACMO,SAAN,uCACMZ,UAAN,GACMa,UAAN,CACQC,MAAR,wCAGMhB,UAAN,CACQiB,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,UAAU,QAAV,YAUEC,QA5CF,WA6CI1D,KAAKU,iBACLV,KAAK2D,gBAEPC,QAAS,CACP,eADJ,WACA,yKACA,yCADA,SAKA,4BACA,iEANA,mBAIA,EAJA,EAIA,KAIA,WARA,yCAQA,iCARA,OASA,4BACA,qBAEA,eAZA,+CAeIvB,oBAhBJ,SAgBA,GAEMrC,KAAKa,UAAUqB,aAAe2B,EAC9B7D,KAAKU,kBAGPQ,SAtBJ,WAuBM,KAAN,kBAGIoB,cA1BJ,WA4BMwB,QAAQC,IAAI/D,KAAKgE,OACjBhE,KAAKgE,MAAMC,WAAWC,cACtBlE,KAAKgE,MAAMG,OAAOC,cASpB,eAvCJ,SAuCA,0KACA,eADA,SAEA,gCACA,iBACA,OAJA,gBAEA,EAFA,EAEA,KAIA,oBACA,yBACA,uBARA,8CAWI,kBAlDJ,WAkDA,uKACA,uBADA,SAEA,kCACA,iBACA,wBACA,kCACA,4BACA,4BACA,4BACA,0BACA,0BAVA,gBAEA,EAFA,EAEA,KAWA,mBACA,WACA,+BACA,oBAEA,6BAlBA,8CAyBI,WA3EJ,SA2EA,GAAM,IAAN,OAAM,OAAN,gKAEA,sCACA,uBACA,sBACA,iBACA,OACA,wBAPA,UAEA,EAFA,OAUA,aAVA,yCAWA,4BAXA,uBAcA,uDAdA,gBAcA,EAdA,EAcA,KAEA,WACA,6BACA,oBAEA,2BApBA,+CAyBA,iBApGA,WAoGA,uKACA,kCADA,SAEA,gDAFA,mBAEA,EAFA,EAEA,KACA,eACA,WAJA,yCAIA,4BAJA,OAKA,sBACA,6BACA,mBAPA,+CAUIxB,cA9GJ,aAkHIC,aAlHJ,aAqHIF,aArHJ,SAqHA,OACM,KAAN,8BACM,KAAN,+BACM,QAAN,eAGIgB,aA3HJ,WA4HM,KAAN,gDACM,KAAN,sEACM,QAAN,wBC3VmX,I,wBCQ/WU,EAAY,eACd,EACAvE,EACAoD,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/chunk-6437e196.417915aa.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productInfo.vue?vue&type=style&index=0&id=3bf059b6&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"产品信息\")]),_c('el-breadcrumb-item',[_vm._v(\"上传产品信息\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"clearable\":\"\",\"placeholder\":\"请输入内容\"},on:{\"clear\":_vm.getproductList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.queryMsg},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible=true}}},[_vm._v(\"添加产品\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.productList}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"qymc\",\"label\":\"生产企业名称\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"cpmc\",\"label\":\"产品名称\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"picname\",\"label\":\"产品图片\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.picname,\"alt\":\"暂无图片\",\"width\":\"100px\",\"height\":\"100px\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"cpgg\",\"label\":\"产品规格\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"bzq\",\"label\":\"保质期（单位：月）\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"prop\":\"ms\",\"label\":\"产品介绍\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"编辑\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.bh)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top-end\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeById(scope.row.bh)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.current_page,\"background\":\"\",\"layout\":\"prev, pager, next, total\",\"total\":_vm.total,\"page-size\":_vm.queryInfo.pageSize},on:{\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加产品信息\",\"visible\":_vm.addDialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addFormClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"rules\":_vm.FormRules,\"enctype\":\"multipart/form-data\",\"model\":_vm.addProductForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"产品名称\",\"prop\":\"cpmc\"}},[_c('el-input',{model:{value:(_vm.addProductForm.cpmc),callback:function ($$v) {_vm.$set(_vm.addProductForm, \"cpmc\", $$v)},expression:\"addProductForm.cpmc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片名称\",\"prop\":\"picname\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.addProductForm.picname),callback:function ($$v) {_vm.$set(_vm.addProductForm, \"picname\", $$v)},expression:\"addProductForm.picname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片上传\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"name\":\"image\",\"action\":_vm.uploadURL,\"on-success\":_vm.successEvent,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png格式的图片，且图片大小不能超过1MB\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"产品规格\",\"prop\":\"cpgg\"}},[_c('el-input',{model:{value:(_vm.addProductForm.cpgg),callback:function ($$v) {_vm.$set(_vm.addProductForm, \"cpgg\", $$v)},expression:\"addProductForm.cpgg\"}})],1),_c('el-form-item',{attrs:{\"label\":\"保质期\",\"prop\":\"bzq\"}},[_c('el-input',{attrs:{\"placeholder\":\"单位：月\"},model:{value:(_vm.addProductForm.bzq),callback:function ($$v) {_vm.$set(_vm.addProductForm, \"bzq\", $$v)},expression:\"addProductForm.bzq\"}})],1),_c('el-form-item',{attrs:{\"label\":\"产品介绍\",\"prop\":\"ms\"}},[_c('el-input',{attrs:{\"rows\":\"8\",\"type\":\"textarea\"},model:{value:(_vm.addProductForm.ms),callback:function ($$v) {_vm.$set(_vm.addProductForm, \"ms\", $$v)},expression:\"addProductForm.ms\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addProductSubmit}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑产品信息\",\"visible\":_vm.editDialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editProductForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"企业名称\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editProductForm.qymc),callback:function ($$v) {_vm.$set(_vm.editProductForm, \"qymc\", $$v)},expression:\"editProductForm.qymc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"产品名称\"}},[_c('el-input',{model:{value:(_vm.editProductForm.cpmc),callback:function ($$v) {_vm.$set(_vm.editProductForm, \"cpmc\", $$v)},expression:\"editProductForm.cpmc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片路径\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editProductForm.picname),callback:function ($$v) {_vm.$set(_vm.editProductForm, \"picname\", $$v)},expression:\"editProductForm.picname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片修改\"}},[_c('el-upload',{ref:\"editUploadRef\",staticClass:\"upload-demo\",attrs:{\"name\":\"image\",\"action\":_vm.uploadURL,\"on-success\":_vm.successEvent,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png格式的图片，且图片大小不能超过1MB\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"产品规格\"}},[_c('el-input',{model:{value:(_vm.editProductForm.cpgg),callback:function ($$v) {_vm.$set(_vm.editProductForm, \"cpgg\", $$v)},expression:\"editProductForm.cpgg\"}})],1),_c('el-form-item',{attrs:{\"label\":\"保质期\"}},[_c('el-input',{attrs:{\"placeholder\":\"单位：月\"},model:{value:(_vm.editProductForm.bzq),callback:function ($$v) {_vm.$set(_vm.editProductForm, \"bzq\", $$v)},expression:\"editProductForm.bzq\"}})],1),_c('el-form-item',{attrs:{\"label\":\"产品介绍\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"8\"},model:{value:(_vm.editProductForm.ms),callback:function ($$v) {_vm.$set(_vm.editProductForm, \"ms\", $$v)},expression:\"editProductForm.ms\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editProductSubmit}},[_vm._v(\"提交修改\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>产品信息</el-breadcrumb-item>\r\n      <el-breadcrumb-item>上传产品信息</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区 -->\r\n    <el-card class=\"box-card\">\r\n      <!-- 搜索与添加区域 -->\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-input @clear=\"getproductList\"  clearable placeholder=\"请输入内容\" class=\"input-with-select\" v-model=\"queryInfo.query\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"queryMsg\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible=true\">添加产品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 产品列表区域 -->\r\n      <el-table\r\n       :data=\"productList\" style=\"width: 100%\">\r\n        <el-table-column label=\"编号\" type=\"index\"></el-table-column>\r\n        <el-table-column prop=\"qymc\" label=\"生产企业名称\" width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"cpmc\" label=\"产品名称\" width=\"140\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"picname\" label=\"产品图片\" width=\"140\">\r\n          <template slot-scope=\"scope\">\r\n            <img :src=\"scope.row.picname\" alt=\"暂无图片\" width=\"100px\" height=\"100px\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"cpgg\" label=\"产品规格\" width=\"180\"> </el-table-column>\r\n        <el-table-column prop=\"bzq\" label=\"保质期（单位：月）\" width=\"180\"> </el-table-column>\r\n        <el-table-column  :show-overflow-tooltip=\"true\" prop=\"ms\" label=\"产品介绍\"> </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180\">\r\n          <!-- 插槽自定义样式 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip\r\n              class=\"item\"\r\n              effect=\"dark\"\r\n              content=\"编辑\"\r\n              placement=\"top-start\"\r\n              \r\n            >\r\n              <el-button type=\"primary\" @click=\"showEditDialog(scope.row.bh)\" icon=\"el-icon-edit\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip\r\n              class=\"item\"\r\n              effect=\"dark\"\r\n              content=\"删除\"\r\n              placement=\"top-end\"\r\n            >\r\n              <el-button type=\"warning\" icon=\"el-icon-delete\" @click=\"removeById(scope.row.bh)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.current_page\"\r\n        background\r\n        layout=\"prev, pager, next, total\"\r\n        :total=\"total\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n    <!-- 新增产品dialog弹窗开始 -->\r\n    <el-dialog\r\n  title=\"添加产品信息\"\r\n  :visible.sync=\"addDialogVisible\"\r\n  width=\"40%\"\r\n  @close=\"addFormClosed\"\r\n >\r\n  <!-- 表单内容区 -->\r\n  <el-form :rules=\"FormRules\" enctype=\"multipart/form-data\" ref=\"addFormRef\" :model=\"addProductForm\" label-width=\"80px\">\r\n  <el-form-item label=\"产品名称\" prop=\"cpmc\">\r\n    <el-input v-model=\"addProductForm.cpmc\" ></el-input>\r\n  </el-form-item>\r\n  <el-form-item  label=\"图片名称\" prop=\"picname\">\r\n    <el-input disabled v-model=\"addProductForm.picname\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"图片上传\">\r\n    <!-- 图片上传组件 -->\r\n  <el-upload\r\n  ref=\"upload\"\r\n  name=\"image\"\r\n  class=\"upload-demo\"\r\n  :action=\"uploadURL\"\r\n  :on-success=\"successEvent\"\r\n  :on-preview=\"handlePreview\"\r\n  :on-remove=\"handleRemove\"\r\n  list-type=\"picture\">\r\n  <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n  <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png格式的图片，且图片大小不能超过1MB</div>\r\n</el-upload>\r\n  </el-form-item>\r\n  \r\n  <el-form-item label=\"产品规格\" prop=\"cpgg\">\r\n    <el-input v-model=\"addProductForm.cpgg\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"保质期\" prop=\"bzq\">\r\n    <el-input placeholder=\"单位：月\" v-model=\"addProductForm.bzq\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"产品介绍\" prop=\"ms\">\r\n    <el-input rows=\"8\"  type=\"textarea\" v-model=\"addProductForm.ms\"></el-input>\r\n  </el-form-item>\r\n  </el-form>\r\n\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"addProductSubmit\">确 定</el-button>\r\n  </span>\r\n</el-dialog>\r\n <!-- 产品dialog弹窗结束 -->\r\n  <!-- 编辑产品dialog弹窗开始 -->\r\n    <el-dialog\r\n  title=\"编辑产品信息\"\r\n  :visible.sync=\"editDialogVisible\"\r\n  width=\"40%\"\r\n >\r\n  <!-- 表单内容区 -->\r\n  <el-form ref=\"editFormRef\" :model=\"editProductForm\" label-width=\"80px\">\r\n  <el-form-item label=\"企业名称\">\r\n    <el-input disabled v-model=\"editProductForm.qymc\" ></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"产品名称\">\r\n    <el-input v-model=\"editProductForm.cpmc\" ></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"图片路径\">\r\n    <el-input disabled v-model=\"editProductForm.picname\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"图片修改\">\r\n    <!-- 图片上传组件 -->\r\n  <el-upload\r\n  ref=\"editUploadRef\"\r\n  name=\"image\"\r\n  class=\"upload-demo\"\r\n  :action=\"uploadURL\"\r\n  :on-success=\"successEvent\"\r\n  :on-preview=\"handlePreview\"\r\n  :on-remove=\"handleRemove\"\r\n  list-type=\"picture\">\r\n  <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n  <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png格式的图片，且图片大小不能超过1MB</div>\r\n</el-upload>\r\n  </el-form-item>\r\n  <el-form-item label=\"产品规格\">\r\n    <el-input v-model=\"editProductForm.cpgg\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"保质期\">\r\n    <el-input placeholder=\"单位：月\" v-model=\"editProductForm.bzq\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"产品介绍\">\r\n    <el-input  type=\"textarea\" rows=\"8\" v-model=\"editProductForm.ms\"></el-input>\r\n  </el-form-item>\r\n  </el-form>\r\n\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"editProductSubmit\">提交修改</el-button>\r\n  </span>\r\n</el-dialog>\r\n <!-- 编辑产品dialog弹窗结束 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 获取产品列表的参数对象\r\n      queryInfo: {\r\n        query: \"\",\r\n        // 每页显示多少条\r\n        pageSize:5,\r\n        // 当所处页数\r\n        current_page: 1\r\n      },\r\n      total:0,\r\n      productList:[],\r\n      addDialogVisible:false,\r\n      // dialog新增产品表单数据对象\r\n      addProductForm:{\r\n          token:'',\r\n          cpmc:'',\r\n          picname:'',\r\n          cpgg:'',\r\n          bzq:'',\r\n          ms:''\r\n      },\r\n      editProductForm:{},\r\n      editProductFormPicname:'',\r\n      editDialogVisible:false,\r\n      tokenStr:window.sessionStorage.getItem('token'),\r\n      uploadURL:'',\r\n      headerObj:{\r\n        token:window.sessionStorage.getItem('token')\r\n      },\r\n      // 表单验证规则\r\n      FormRules:{\r\n        cpmc:[\r\n          { required: true, message: '请输入产品名称', trigger: 'blur' }\r\n        ],\r\n        // bzq:[\r\n        //   { required: true, message: '请输入产品保质期,单位天', trigger: 'blur' },\r\n        //   {type:'number',message: '请填写数字', trigger: 'blur'}\r\n        // ]\r\n      }\r\n        \r\n    };\r\n  },\r\n  created() {\r\n    this.getproductList();\r\n    this.setUploadURL();\r\n  },\r\n  methods: {\r\n    async getproductList() {\r\n      const tokenStr = window.sessionStorage.getItem(\"token\");\r\n      // console.log(tokenStr)\r\n      const {\r\n        data: res\r\n      } = await this.$http.post('/productInfo', \r\n       {token:tokenStr,page:this.queryInfo.current_page,query:this.queryInfo.query}\r\n      );\r\n      if (res.code !== 0) return this.$message.error(\"获取产品列表数据失败！\");\r\n      this.productList = res.data.result;  \r\n      this.total = res.data.total; \r\n      // console.log(this.productList);\r\n      console.log(res)\r\n    },\r\n    // 分页功能--监听当前页码值 改变事件\r\n    handleCurrentChange(newPage) {\r\n      // console.log(\"当前页是\" + newPage);\r\n      this.queryInfo.current_page = newPage\r\n      this.getproductList();\r\n    },\r\n    // 查询按钮事件\r\n    queryMsg(){\r\n        this.getproductList();\r\n    },\r\n    // 关闭dialog弹窗的回调函数\r\n    addFormClosed(){\r\n      // 在关闭dialog时重置表单\r\n      console.log(this.$refs)\r\n      this.$refs.addFormRef.resetFields();\r\n      this.$refs.upload.clearFiles();\r\n      // this.$nextTick(()=>{\r\n      //     if(this.$refs.addFormRef){\r\n      //       this.$refs.addFormRef.resetFields();\r\n      //     }\r\n      //   }\r\n      //   )\r\n    },\r\n    // 编辑按钮点击事件\r\n    async showEditDialog(id){\r\n      console.log(id)\r\n     const {data:res} = await this.$http.post('EditProductInfo',{\r\n        token:this.tokenStr,\r\n        bh:id\r\n      })\r\n      console.log(res.data);\r\n      this.editProductForm = res.data;\r\n      this.editDialogVisible = true;\r\n    },\r\n    // 提交编辑弹框修改\r\n    async editProductSubmit(){\r\n      this.editDialogVisible = false;\r\n       const{data:res} = await this.$http.post('DoEditProductInfo',{\r\n        token:this.tokenStr,\r\n        bh:this.editProductForm.bh,\r\n        picname:this.editProductForm.picname,\r\n        qymc:this.editProductForm.qymc,\r\n        cpmc:this.editProductForm.cpmc,\r\n        cpgg:this.editProductForm.cpgg,\r\n        bzq:this.editProductForm.bzq,\r\n        ms:this.editProductForm.ms\r\n      })\r\n      // console.log(res)\r\n      this.getproductList();\r\n      if(res.code == 0){\r\n         this.$message.success('产品信息编辑成功')\r\n      this.getproductList();\r\n    }else{ \r\n      this.$message.error('产品信息编辑失败')\r\n    }\r\n     \r\n     \r\n      // console.log(res)\r\n    },\r\n    // 通过id删除产品信息\r\n      async removeById(id){\r\n      // console.log(id)\r\n      const res = await this.$confirm('此操作将永久删除该产品, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).catch(\r\n          err=>err\r\n        );\r\n\r\n      if(res != 'confirm'){\r\n        return this.$message.info('取消了删除操作')\r\n      }\r\n      // console.log(tokenStr)\r\n     const {data:removeRes} =await this.$http.post('DelProductInfo',{token:this.tokenStr,bh:id});\r\n      //console.log(removeRes);\r\n      if(removeRes.code == 1){\r\n        this.$message.success('删除产品成功')\r\n        this.getproductList();\r\n      }else{\r\n        this.$message.error('删除产品失败')\r\n      }\r\n      \r\n    },\r\n    // 新增产品提交事件\r\n   async addProductSubmit(){\r\n        this.addProductForm.token = this.tokenStr;\r\n       const {data:res} =await this.$http.post('AddProductInfo',this.addProductForm)\r\n        console.log(res)\r\n        if(res.code !==0){return this.$message.error('添加产品失败')}\r\n        this.addDialogVisible=false;\r\n        this.$message.success('产品添加成功')\r\n        this.getproductList();\r\n    },\r\n    // 产品添加图片预览\r\n    handlePreview(){\r\n\r\n    },\r\n    // 产品添加移除图片\r\n    handleRemove(){\r\n\r\n    },\r\n    successEvent(response, file, fileList){\r\n        this.addProductForm.picname = file.name;\r\n        this.editProductForm.picname = file.name;\r\n        console.log(response,file.name)\r\n    },\r\n    // 动态设置图片上传路径\r\n    setUploadURL(){\r\n        this.tokenStr = window.sessionStorage.getItem('token');\r\n        this.uploadURL = 'http://czapi.wtycms.cn/Productupload?token=' + this.tokenStr;\r\n        console.log(this.uploadURL)\r\n    }\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-breadcrumb {\r\n  height: 30px;\r\n}\r\n.el-pagination {\r\n  margin-top: 10px;\r\n}\r\n.el-upload-dragger{\r\n  margin-left: 200px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productInfo.vue?vue&type=template&id=3bf059b6&scoped=true&\"\nimport script from \"./productInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./productInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productInfo.vue?vue&type=style&index=0&id=3bf059b6&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bf059b6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
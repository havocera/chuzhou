(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7348bb7a"],{"201f":function(e,r,t){"use strict";t("8bb2")},"2f50":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"login_content"},[s("el-row",{staticClass:"content",attrs:{gutter:20}},[s("el-col",{staticClass:"left",attrs:{span:10}},[s("div",{staticClass:"contt"},[s("div",{staticClass:"logo_fa"},[s("div",{staticClass:"logo"}),s("div",{staticClass:"img_title"},[s("img",{attrs:{src:t("35cc"),width:"500px",alt:""}})])])])]),s("el-col",{staticClass:"right",attrs:{span:14}},[s("div",{staticClass:"login_box"},[s("h2",{staticClass:"title-c",attrs:{id:"h2_systemname"}},[e._v("物联网+区块链食品安全追溯系统")]),s("div",{staticClass:"login_title"},[e._v("用户注册")]),s("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"label-width":"100px",rules:e.rules}},[s("el-form-item",{attrs:{label:"用户登录名"}},[s("el-input",{on:{blur:e.isName},model:{value:e.registerForm.rybh,callback:function(r){e.$set(e.registerForm,"rybh",r)},expression:"registerForm.rybh"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.registerForm.pwd,callback:function(r){e.$set(e.registerForm,"pwd",r)},expression:"registerForm.pwd"}})],1),s("el-form-item",{attrs:{label:"确认密码"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.registerForm.confirmPwd,callback:function(r){e.$set(e.registerForm,"confirmPwd",r)},expression:"registerForm.confirmPwd"}})],1),s("el-form-item",{attrs:{label:"企业名称"}},[s("el-input",{on:{blur:e.isQymc},model:{value:e.registerForm.qymc,callback:function(r){e.$set(e.registerForm,"qymc",r)},expression:"registerForm.qymc"}})],1),s("el-form-item",{attrs:{label:"企业负责人"}},[s("el-input",{model:{value:e.registerForm.fzr,callback:function(r){e.$set(e.registerForm,"fzr",r)},expression:"registerForm.fzr"}})],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{on:{blur:e.isPhone},model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"注册类型"}},[s("el-checkbox-group",{model:{value:e.registerForm.qylx,callback:function(r){e.$set(e.registerForm,"qylx",r)},expression:"registerForm.qylx"}},[s("el-checkbox-button",{attrs:{label:"生产企业"}},[e._v("生产企业")]),s("el-checkbox-button",{attrs:{label:"加工企业"}},[e._v("物流商")]),s("el-checkbox-button",{attrs:{label:"运输企业"}},[e._v("收购商")]),s("el-checkbox-button",{attrs:{label:"销售企业"}},[e._v("零售商")])],1)],1),s("el-form-item",{attrs:{label:"企业详细地址"}},[s("el-input",{model:{value:e.registerForm.address,callback:function(r){e.$set(e.registerForm,"address",r)},expression:"registerForm.address"}})],1),s("el-form-item",[s("el-button",{staticClass:"login blue",attrs:{type:"primary"},on:{click:e.registerSubmit}},[e._v("立即注册")]),s("el-button",{staticClass:"login back",attrs:{type:"primary"},on:{click:e.tologin}},[e._v("返回登录")])],1)],1)],1)])],1)],1)},n=[],o=t("1da1"),i=(t("96cf"),t("b0c0"),t("e9c4"),{data:function(){return{registerForm:{rybh:"",pwd:"",confirmPwd:"",phone:"",qymc:"",fzr:"",qylx:[],xzq:"341524000000",address:""},xzqname:"安徽省/六安市/金寨县",rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"密码",trigger:"blur"}],qymc:[{required:!0,message:"请输入用户名",trigger:"blur"}],address:[{required:!0,message:"请输入用户名",trigger:"blur"}]},options:[]}},created:function(){},methods:{tologin:function(){this.$router.push("login")},resetregisterForm:function(){this.registerForm.name="",this.registerForm.pwd=""},registerSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,s,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(window.sessionStorage.clear(),e.registerForm.qylx=JSON.stringify(e.registerForm.qylx),console.log(e.registerForm),e.registerForm.pwd!==e.registerForm.confirmPwd){r.next=23;break}return r.next=6,e.$http.post("Register",e.registerForm);case 6:if(t=r.sent,s=t.data,console.log(s),1!=s.code){r.next=20;break}return e.$message({message:"注册成功",type:"success"}),r.next=13,e.$http.post("login",{name:e.registerForm.rybh,pwd:e.registerForm.pwd});case 13:n=r.sent,o=n.data,console.log(o),window.sessionStorage.setItem("token",o.data.token),window.sessionStorage.setItem("userInfo",JSON.stringify(o.data)),r.next=21;break;case 20:e.$message({message:"注册失败",type:"error"});case 21:r.next=25;break;case 23:console.log("两次密码不一致"),e.$message({showClose:!0,message:"两次输入密码不一致，请重新输入",type:"error"});case 25:case"end":return r.stop()}}),r)})))()},isName:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.post("isName",{rybh:e.registerForm.rybh});case 2:if(t=r.sent,s=t.data,-1!=s.code){r.next=6;break}return r.abrupt("return",e.$notify.error({title:"错误",message:"该用户名已存在"}));case 6:case"end":return r.stop()}}),r)})))()},isPhone:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.post("isPhone",{phone:e.registerForm.phone});case 2:if(t=r.sent,s=t.data,-1!=s.code){r.next=6;break}return r.abrupt("return",e.$notify.error({title:"错误",message:"该手机号已存在"}));case 6:case"end":return r.stop()}}),r)})))()},isQymc:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.post("isQymc",{qymc:e.registerForm.qymc});case 2:if(t=r.sent,s=t.data,-1!=s.code){r.next=6;break}return r.abrupt("return",e.$notify.error({title:"错误",message:"该企业已存在"}));case 6:case"end":return r.stop()}}),r)})))()}}}),a=i,l=(t("201f"),t("2877")),c=Object(l["a"])(a,s,n,!1,null,"20c12536",null);r["default"]=c.exports},"35cc":function(e,r,t){e.exports=t.p+"img/title.d6986827.png"},"8bb2":function(e,r,t){},e9c4:function(e,r,t){var s=t("23e7"),n=t("da84"),o=t("d066"),i=t("2ba4"),a=t("e330"),l=t("d039"),c=n.Array,u=o("JSON","stringify"),m=a(/./.exec),g=a("".charAt),d=a("".charCodeAt),p=a("".replace),f=a(1..toString),b=/[\uD800-\uDFFF]/g,h=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,w=function(e,r,t){var s=g(t,r-1),n=g(t,r+1);return m(h,e)&&!m(F,n)||m(F,e)&&!m(h,s)?"\\u"+f(d(e,0),16):e},x=l((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&s({target:"JSON",stat:!0,forced:x},{stringify:function(e,r,t){for(var s=0,n=arguments.length,o=c(n);s<n;s++)o[s]=arguments[s];var a=i(u,null,o);return"string"==typeof a?p(a,b,w):a}})}}]);
//# sourceMappingURL=chunk-7348bb7a.c7456d2d.js.map
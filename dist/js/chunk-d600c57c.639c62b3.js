(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d600c57c"],{2511:function(e,t,a){},"2c0a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("仓储管理")]),a("el-breadcrumb-item",[e._v("出库管理")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入查询信息"},on:{clear:e.getDataList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getDataList},slot:"append"})],1)],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增出库信息")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",label:"编号"}}),a("el-table-column",{attrs:{prop:"supply_name",label:"供应商",width:"180"}}),a("el-table-column",{attrs:{prop:"cpmc",label:"出库货物"}}),a("el-table-column",{attrs:{prop:"name",label:"出库仓库"}}),a("el-table-column",{attrs:{prop:"out_number",label:"出库数量"}}),a("el-table-column",{attrs:{prop:"add_date",label:"出库时间"}}),a("el-table-column",{attrs:{prop:"comment",label:"备注"}}),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.editInfo(t.row.id)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top-end"}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(a){return e.delInfo(t.row.id)}}})],1)]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:e.total,"page-size":e.queryInfo.pageSize},on:{"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"新增出库信息",visible:e.addDialogVisible,width:"40%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addFormRef",attrs:{size:"medium",inline:!0,model:e.addClientInfo,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"供应商名称",prop:"supply_name"}},[a("el-input",{model:{value:e.addClientInfo.supply_name,callback:function(t){e.$set(e.addClientInfo,"supply_name",t)},expression:"addClientInfo.supply_name"}})],1),a("el-form-item",{attrs:{label:"出库货物",prop:"cpmc"}},[a("el-input",{model:{value:e.addClientInfo.cpmc,callback:function(t){e.$set(e.addClientInfo,"cpmc",t)},expression:"addClientInfo.cpmc"}})],1),a("el-form-item",{attrs:{label:"出库仓库",prop:"storage_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addClientInfo.storage_id,callback:function(t){e.$set(e.addClientInfo,"storage_id",t)},expression:"addClientInfo.storage_id"}},e._l(e.selectStorageOption,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"出库数量",prop:"out_number"}},[a("el-input",{model:{value:e.addClientInfo.out_number,callback:function(t){e.$set(e.addClientInfo,"out_number",t)},expression:"addClientInfo.out_number"}})],1),a("el-form-item",{attrs:{label:"出库日期",prop:"add_date"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.addClientInfo.add_date,callback:function(t){e.$set(e.addClientInfo,"add_date",t)},expression:"addClientInfo.add_date"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"comment"}},[a("el-input",{model:{value:e.addClientInfo.comment,callback:function(t){e.$set(e.addClientInfo,"comment",t)},expression:"addClientInfo.comment"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFormSubmit(e.addFormRef)}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"新增客户信息",visible:e.editDialogVisible,width:"40%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"editFormRef",attrs:{size:"medium",inline:!0,model:e.editClientInfo,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"供应商名称",prop:"supply_name"}},[a("el-input",{model:{value:e.editClientInfo.supply_name,callback:function(t){e.$set(e.editClientInfo,"supply_name",t)},expression:"editClientInfo.supply_name"}})],1),a("el-form-item",{attrs:{label:"出库货物",prop:"cpmc"}},[a("el-input",{model:{value:e.editClientInfo.cpmc,callback:function(t){e.$set(e.editClientInfo,"cpmc",t)},expression:"editClientInfo.cpmc"}})],1),a("el-form-item",{attrs:{label:"出库仓库",prop:"storage_id"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editClientInfo.storage_id,callback:function(t){e.$set(e.editClientInfo,"storage_id",t)},expression:"editClientInfo.storage_id"}},e._l(e.selectStorageOption,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"出库数量",prop:"out_number"}},[a("el-input",{model:{value:e.editClientInfo.out_number,callback:function(t){e.$set(e.editClientInfo,"out_number",t)},expression:"editClientInfo.out_number"}})],1),a("el-form-item",{attrs:{label:"出库日期",prop:"add_date"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.editClientInfo.add_date,callback:function(t){e.$set(e.editClientInfo,"add_date",t)},expression:"editClientInfo.add_date"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"comment"}},[a("el-input",{model:{value:e.editClientInfo.comment,callback:function(t){e.$set(e.editClientInfo,"comment",t)},expression:"editClientInfo.comment"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editFormSubmit}},[e._v("确 定")])],1)],1)],1)],1)},o=[],l=a("1da1"),i=(a("96cf"),{data:function(){return{tokenStr:"",queryInfo:{token:"",query:"",page:1,pageSize:5},total:0,tableData:[],addDialogVisible:!1,editDialogVisible:!1,addClientInfo:{storage_id:"",supply_name:"",cpmc:"",out_number:"",add_date:"",comment:""},selectStorageOption:[],editClientInfo:{id:"",storage_id:"",supply_name:"",cpmc:"",out_number:"",add_date:"",comment:""}}},created:function(){this.tokenStr=window.sessionStorage.getItem("token"),this.getDataList(),this.selectStorage()},methods:{getDataList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryInfo.token=e.tokenStr,t.next=3,e.$http.post("OutStorageList",e.queryInfo);case 3:a=t.sent,n=a.data,console.log(n.data.result),e.tableData=n.data.result,e.total=n.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getDataList()},addFormSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("AddOutStorageInfo",e.addClientInfo);case 2:e.getDataList(),e.addDialogVisible=!1,console.log(e.$refs),e.$refs["addFormRef"].resetFields();case 6:case"end":return t.stop()}}),t)})))()},editInfo:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,t.$http.post("EditOutStorageInfo",{id:e});case 3:n=a.sent,o=n.data,console.log(o.data),t.editClientInfo.id=e,t.editClientInfo.storage_id=o.data.storage_id,t.editClientInfo.supply_name=o.data.supply_name,t.editClientInfo.cpmc=o.data.cpmc,t.editClientInfo.out_number=o.data.out_number,t.editClientInfo.add_date=o.data.add_date,t.editClientInfo.comment=o.data.comment,t.editDialogVisible=!0;case 14:case"end":return a.stop()}}),a)})))()},selectStorage:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("SelectZdStorageInfo");case 2:a=t.sent,n=a.data,console.log(n),e.selectStorageOption=n.data;case 6:case"end":return t.stop()}}),t)})))()},editFormSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("DoEditOutStorageInfo",e.editClientInfo);case 2:e.editDialogVisible=!1,e.$message.success("编辑成功"),e.$refs["addFormRef"].resetFields(),e.getDataList();case 6:case"end":return t.stop()}}),t)})))()},delInfo:function(e){var t=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.post("DelOutStorageInfo",{id:e}),t.$message({type:"success",message:"删除成功!"}),t.getDataList()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}}),r=i,s=(a("d1fa"),a("2877")),d=Object(s["a"])(r,n,o,!1,null,"11059430",null);t["default"]=d.exports},d1fa:function(e,t,a){"use strict";a("2511")}}]);
//# sourceMappingURL=chunk-d600c57c.639c62b3.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e9d32f0"],{"4d3e":function(e,t,o){"use strict";o("ebb2")},ebb2:function(e,t,o){},f871:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[e._v("投入品信息")]),o("el-breadcrumb-item",[e._v("投入品使用信息")])],1),o("el-card",{staticClass:"box-card"},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:6}},[o("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入投入品名称"},on:{clear:e.getDataList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getDataList},slot:"append"})],1)],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{type:"primary"},on:{click:e.openAddDialog}},[e._v("新增")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{label:"编号",type:"index"}}),o("el-table-column",{attrs:{prop:"qymc",label:"生产企业名称",width:"180"}}),o("el-table-column",{attrs:{prop:"trpm",label:"投入品名称"}}),o("el-table-column",{attrs:{prop:"nydjzh",label:"投入品登记证号"}}),o("el-table-column",{attrs:{prop:"nyscz",label:"生产商"}}),o("el-table-column",{attrs:{prop:"cgr",label:"经手人"}}),o("el-table-column",{attrs:{prop:"cdbh",label:"使用去向"}}),o("el-table-column",{attrs:{prop:"cpbh",label:"使用对象"}}),o("el-table-column",{attrs:{prop:"trpgg",label:"规格"}}),o("el-table-column",{attrs:{prop:"sysl",label:"使用数量"}}),o("el-table-column",{attrs:{prop:"nysyfa",label:"使用方法","show-overflow-tooltip":!0}}),o("el-table-column",{attrs:{prop:"cgrq",label:"使用日期"}}),o("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.editInfo(t.row.bh)}}})],1),o("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top-end"}},[o("el-button",{attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(o){return e.delInfo(t.row.bh)}}})],1)]}}])})],1),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:e.total,"page-size":e.queryInfo.pageSize},on:{"current-change":e.handleCurrentChange}}),o("el-dialog",{attrs:{title:"新增投入品使用台账",visible:e.addDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[o("el-form",{ref:"addFormInfo",attrs:{size:"medium",rules:e.rules,inline:!0,model:e.addFormInfo,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"登记证证号",prop:"PDno"}},[o("el-input",{attrs:{placeholder:"例：PD20111153"},model:{value:e.queryTryInfo.PDno,callback:function(t){e.$set(e.queryTryInfo,"PDno",t)},expression:"queryTryInfo.PDno"}})],1),o("el-form-item",{attrs:{label:"查询投入品信息"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.getTrpInfo}},[e._v("点击查询")])],1),o("el-form-item",{attrs:{label:"投入品名称",prop:"trpm"}},[o("el-input",{model:{value:e.addFormInfo.trpm,callback:function(t){e.$set(e.addFormInfo,"trpm",t)},expression:"addFormInfo.trpm"}})],1),o("el-form-item",{attrs:{label:"生产商",prop:"nyscz"}},[o("el-input",{model:{value:e.addFormInfo.nyscz,callback:function(t){e.$set(e.addFormInfo,"nyscz",t)},expression:"addFormInfo.nyscz"}})],1),o("el-form-item",{attrs:{label:"防治信息",prop:"nyfz"}},[o("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:e.addFormInfo.nyfz,callback:function(t){e.$set(e.addFormInfo,"nyfz",t)},expression:"addFormInfo.nyfz"}})],1),o("el-form-item",{attrs:{label:"使用方法",prop:"nysyfa"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.addFormInfo.nysyfa,callback:function(t){e.$set(e.addFormInfo,"nysyfa",t)},expression:"addFormInfo.nysyfa"}})],1),o("el-form-item",{attrs:{label:"规格",prop:"trpgg"}},[o("el-input",{model:{value:e.addFormInfo.trpgg,callback:function(t){e.$set(e.addFormInfo,"trpgg",t)},expression:"addFormInfo.trpgg"}})],1),o("el-form-item",{attrs:{label:"农药制剂",prop:"PDClass"}},[o("el-input",{model:{value:e.addFormInfo.PDClass,callback:function(t){e.$set(e.addFormInfo,"PDClass",t)},expression:"addFormInfo.PDClass"}})],1),o("el-form-item",{attrs:{label:"作用地块",prop:"cdbh"}},[o("el-select",{attrs:{placeholder:"请选择作业地块"},model:{value:e.addFormInfo.cdbh,callback:function(t){e.$set(e.addFormInfo,"cdbh",t)},expression:"addFormInfo.cdbh"}},e._l(e.selectchandi,(function(e){return o("el-option",{key:e.cdbh,attrs:{label:e.chandi,value:e.chandi}})})),1)],1),o("el-form-item",{attrs:{label:"作用产品",prop:"cpbh"}},[o("el-select",{attrs:{placeholder:"请选择产品"},model:{value:e.addFormInfo.cpbh,callback:function(t){e.$set(e.addFormInfo,"cpbh",t)},expression:"addFormInfo.cpbh"}},e._l(e.selectProduct,(function(e){return o("el-option",{key:e.cpbh,attrs:{label:e.cpmc,value:e.cpmc}})})),1)],1),o("el-form-item",{attrs:{label:"经手人",prop:"cgr"}},[o("el-input",{model:{value:e.addFormInfo.cgr,callback:function(t){e.$set(e.addFormInfo,"cgr",t)},expression:"addFormInfo.cgr"}})],1),o("el-form-item",{attrs:{label:"使用数量",prop:"sysl"}},[o("el-input",{model:{value:e.addFormInfo.sysl,callback:function(t){e.$set(e.addFormInfo,"sysl",t)},expression:"addFormInfo.sysl"}})],1),o("el-form-item",{attrs:{label:"备注",prop:"bz"}},[o("el-input",{model:{value:e.addFormInfo.bz,callback:function(t){e.$set(e.addFormInfo,"bz",t)},expression:"addFormInfo.bz"}})],1),o("el-form-item",{attrs:{label:"使用日期",prop:"cgrq"}},[o("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.addFormInfo.cgrq,callback:function(t){e.$set(e.addFormInfo,"cgrq",t)},expression:"addFormInfo.cgrq"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addFormSubmit}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"编辑投入品使用台账",visible:e.editDialogVisible,width:"40%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[o("el-form",{ref:"editFormInfo",attrs:{size:"medium",rules:e.rules,inline:!0,model:e.editFormInfo,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"登记证证号",prop:"PDno"}},[o("el-input",{attrs:{placeholder:"例：PD20111153"},model:{value:e.queryTryInfo.PDno,callback:function(t){e.$set(e.queryTryInfo,"PDno",t)},expression:"queryTryInfo.PDno"}})],1),o("el-form-item",{attrs:{label:"查询投入品信息"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.getTrpInfo}},[e._v("点击查询")])],1),o("el-form-item",{attrs:{label:"投入品名称",prop:"trpm"}},[o("el-input",{model:{value:e.editFormInfo.trpm,callback:function(t){e.$set(e.editFormInfo,"trpm",t)},expression:"editFormInfo.trpm"}})],1),o("el-form-item",{attrs:{label:"生产商",prop:"nyscz"}},[o("el-input",{model:{value:e.editFormInfo.nyscz,callback:function(t){e.$set(e.editFormInfo,"nyscz",t)},expression:"editFormInfo.nyscz"}})],1),o("el-form-item",{attrs:{label:"防治信息",prop:"nyfz"}},[o("el-input",{attrs:{autosize:"",type:"textarea"},model:{value:e.editFormInfo.nyfz,callback:function(t){e.$set(e.editFormInfo,"nyfz",t)},expression:"editFormInfo.nyfz"}})],1),o("el-form-item",{attrs:{label:"使用方法",prop:"nysyfa"}},[o("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.editFormInfo.nysyfa,callback:function(t){e.$set(e.editFormInfo,"nysyfa",t)},expression:"editFormInfo.nysyfa"}})],1),o("el-form-item",{attrs:{label:"规格",prop:"trpgg"}},[o("el-input",{model:{value:e.editFormInfo.trpgg,callback:function(t){e.$set(e.editFormInfo,"trpgg",t)},expression:"editFormInfo.trpgg"}})],1),o("el-form-item",{attrs:{label:"农药制剂",prop:"PDClass"}},[o("el-input",{model:{value:e.editFormInfo.PDClass,callback:function(t){e.$set(e.editFormInfo,"PDClass",t)},expression:"editFormInfo.PDClass"}})],1),o("el-form-item",{attrs:{label:"作用地块",prop:"cdbh"}},[o("el-select",{attrs:{placeholder:"请选择作业地块"},model:{value:e.editFormInfo.cdbh,callback:function(t){e.$set(e.editFormInfo,"cdbh",t)},expression:"editFormInfo.cdbh"}},e._l(e.selectchandi,(function(e){return o("el-option",{key:e.cdbh,attrs:{label:e.chandi,value:e.chandi}})})),1)],1),o("el-form-item",{attrs:{label:"作用产品",prop:"cpbh"}},[o("el-select",{attrs:{placeholder:"请选择产品"},model:{value:e.editFormInfo.cpbh,callback:function(t){e.$set(e.editFormInfo,"cpbh",t)},expression:"editFormInfo.cpbh"}},e._l(e.selectProduct,(function(e){return o("el-option",{key:e.cpbh,attrs:{label:e.cpmc,value:e.cpmc}})})),1)],1),o("el-form-item",{attrs:{label:"经手人",prop:"cgr"}},[o("el-input",{model:{value:e.editFormInfo.cgr,callback:function(t){e.$set(e.editFormInfo,"cgr",t)},expression:"editFormInfo.cgr"}})],1),o("el-form-item",{attrs:{label:"使用数量",prop:"sysl"}},[o("el-input",{model:{value:e.editFormInfo.sysl,callback:function(t){e.$set(e.editFormInfo,"sysl",t)},expression:"editFormInfo.sysl"}})],1),o("el-form-item",{attrs:{label:"备注",prop:"bz"}},[o("el-input",{model:{value:e.editFormInfo.bz,callback:function(t){e.$set(e.editFormInfo,"bz",t)},expression:"editFormInfo.bz"}})],1),o("el-form-item",{attrs:{label:"使用日期",prop:"cgrq"}},[o("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.editFormInfo.cgrq,callback:function(t){e.$set(e.editFormInfo,"cgrq",t)},expression:"editFormInfo.cgrq"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.editFormSubmit}},[e._v("确 定")])],1)],1)],1)],1)},a=[],n=o("1da1"),l=(o("b0c0"),o("96cf"),{data:function(){return{tokenStr:"",queryInfo:{token:"",query:"",page:1,pageSize:5},total:0,tableData:[],addDialogVisible:!1,editDialogVisible:!1,addFormInfo:{token:"",trpm:"",nyscz:"",nydjzh:"",nyscdz:"",nyzw:"",nyfz:"",nysyfa:"",nydh:"",chandi:"",cdbh:"",cpbh:"",trpgg:"",cgr:"",bz:"",cgrq:"",PDClass:""},queryTryInfo:{PDno:"PD20111153",sercetKey:"661130ab"},editFormInfo:{},selectchandi:[],selectProduct:[],rules:{trpm:[{required:!0,message:"请输入活动名称",trigger:"blur"}]}}},created:function(){this.tokenStr=window.sessionStorage.getItem("token"),this.getDataList()},methods:{getDataList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o,r,a,n,l,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryInfo.token=e.tokenStr,t.next=3,e.$http.post("InputsuseInfo",e.queryInfo);case 3:return o=t.sent,r=o.data,console.log(r.data.result),e.tableData=r.data.result,e.total=r.data.total,t.next=10,e.$http.post("SelectPlace",{token:e.tokenStr});case 10:return a=t.sent,n=a.data,e.selectchandi=n.data,t.next=15,e.$http.post("SelectProduction",{token:e.tokenStr});case 15:l=t.sent,s=l.data,e.selectProduct=s.data;case 18:case"end":return t.stop()}}),t)})))()},getTrpInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("https://pdno.0cccc.cc/getPD",e.queryTryInfo);case 2:o=t.sent,r=o.data,e.addFormInfo.trpm=r.data.name,e.addFormInfo.nyscz=r.data.company,e.addFormInfo.nyfz=r.data.PDuse,e.addFormInfo.nysyfa=r.data.PDCanUse,e.addFormInfo.trpgg=r.data.PDcontent,e.addFormInfo.PDClass=r.data.PDClass,e.editFormInfo.trpm=r.data.name,e.editFormInfo.nyscz=r.data.company,e.editFormInfo.nyfz=r.data.PDuse,e.editFormInfo.nysyfa=r.data.PDCanUse,e.editFormInfo.trpgg=r.data.PDcontent,e.editFormInfo.PDClass=r.data.PDClass;case 16:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getDataList()},openAddDialog:function(){this.addDialogVisible=!0},addFormSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addFormInfo.nydjzh=e.queryTryInfo.PDno,t.next=3,e.$http.post("AddInputsuseInfo",e.addFormInfo);case 3:o=t.sent,o.data,e.$message({message:"添加成功！",type:"success"}),e.addDialogVisible=!1,e.$refs.addFormInfo.resetFields(),e.getDataList();case 9:case"end":return t.stop()}}),t)})))()},editInfo:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var r,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$http.post("EditInputsuseInfo",{token:t.tokenStr,bh:e});case 2:r=o.sent,a=r.data,console.log(a),t.editFormInfo=a.data,t.editDialogVisible=!0;case 7:case"end":return o.stop()}}),o)})))()},editFormSubmit:function(){this.editFormInfo.nydjzh=this.queryTryInfo.PDno,this.$http.post("DoEditInputsuseInfo",this.editFormInfo),this.$message({message:"修改成功！",type:"success"}),this.editDialogVisible=!1,this.getDataList()},delInfo:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var r,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=o.sent,"confirm"==r){o.next=5;break}return o.abrupt("return",t.$message.info("取消删除"));case 5:return o.next=7,t.$http.post("DelInputsuseInfo",{token:t.tokenStr,bh:e});case 7:if(a=o.sent,200===a.status){o.next=10;break}return o.abrupt("return",t.$message.error("删除失败"));case 10:t.$message.success("删除成功"),t.getDataList(),console.log(a);case 13:case"end":return o.stop()}}),o)})))()}}}),s=l,i=(o("4d3e"),o("2877")),c=Object(i["a"])(s,r,a,!1,null,"3a32c019",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-6e9d32f0.4285606e.js.map
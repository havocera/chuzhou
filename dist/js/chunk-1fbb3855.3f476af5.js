(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fbb3855"],{"4f75":function(e,t,i){},7824:function(e,t,i){"use strict";i("da10")},aab5:function(e,t,i){"use strict";i("4f75")},da10:function(e,t,i){},fb98:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-card",{staticClass:"box-card table"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入物流信息"},on:{clear:e.getDataList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getDataList},slot:"append"})],1)],1),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"primary"},on:{click:e.clickAdd}},[e._v("新增物流信息")])],1)],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:!0,border:""}},[i("el-table-column",{attrs:{type:"index",label:"编号"}}),i("el-table-column",{attrs:{prop:"ship_address",label:"发货地址"}}),i("el-table-column",{attrs:{prop:"destination",label:"目的地"}}),i("el-table-column",{attrs:{prop:"accepter",label:"收件人"}}),i("el-table-column",{attrs:{width:"140",prop:"carrier_phone",label:"运输联系方式"}}),i("el-table-column",{attrs:{prop:"delivery_time",label:"发货时间"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(i){return e.editInfo(t.row.id)}}})],1)]}}])}),i("el-table-column",{attrs:{label:"查看"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{effect:"dark",content:"物流详情单查看",placement:"top-end"}},[i("el-button",{attrs:{type:"success",icon:"el-icon-printer"},on:{click:function(i){return e.printCargoBill(t.row.id)}}})],1)]}}])})],1),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:e.total,"page-size":e.queryInfo.pageSize},on:{"current-change":e.handleCurrentChange}}),i("el-dialog",{attrs:{title:"新增物流信息",visible:e.addDialogVisible,width:"40%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[i("el-form",{ref:"addFormRef",attrs:{size:"medium",inline:!0,model:e.addFormInfo,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"产品名称"}},[i("el-select",{staticClass:"select-width",attrs:{placeholder:"请选择产品名称"},on:{change:e.getAddPch},model:{value:e.addFormInfo.cpmc,callback:function(t){e.$set(e.addFormInfo,"cpmc",t)},expression:"addFormInfo.cpmc"}},e._l(e.cpmcList,(function(e){return i("el-option",{key:e.index,attrs:{label:e,value:e}})})),1)],1),i("el-form-item",{attrs:{label:"批次号"}},[i("el-select",{staticClass:"select-width",attrs:{placeholder:"请选择产品批次号"},model:{value:e.addFormInfo.pch,callback:function(t){e.$set(e.addFormInfo,"pch",t)},expression:"addFormInfo.pch"}},e._l(e.pchList,(function(e){return i("el-option",{key:e.index,attrs:{value:e,label:e}})})),1)],1),i("el-form-item",{attrs:{label:"发货人",prop:"shiper_name"}},[i("el-input",{model:{value:e.addFormInfo.shiper_name,callback:function(t){e.$set(e.addFormInfo,"shiper_name",t)},expression:"addFormInfo.shiper_name"}})],1),i("el-form-item",{attrs:{label:"发货人联系方式",prop:"shiper_phone"}},[i("el-input",{model:{value:e.addFormInfo.shiper_phone,callback:function(t){e.$set(e.addFormInfo,"shiper_phone",t)},expression:"addFormInfo.shiper_phone"}})],1),i("el-form-item",{attrs:{label:"发货地址",prop:"ship_address"}},[i("el-input",{model:{value:e.addFormInfo.ship_address,callback:function(t){e.$set(e.addFormInfo,"ship_address",t)},expression:"addFormInfo.ship_address"}})],1),i("el-form-item",{attrs:{label:"目的地",prop:"destination"}},[i("el-input",{model:{value:e.addFormInfo.destination,callback:function(t){e.$set(e.addFormInfo,"destination",t)},expression:"addFormInfo.destination"}})],1),i("el-form-item",{attrs:{label:"收件人"}},[i("el-select",{staticClass:"select-width",attrs:{placeholder:"请选择收件人信息"},on:{change:e.setClientId},model:{value:e.addFormInfo.client_id,callback:function(t){e.$set(e.addFormInfo,"client_id",t)},expression:"addFormInfo.client_id"}},e._l(e.clientInfoList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.client_name,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"运送人",prop:"carrier"}},[i("el-input",{model:{value:e.addFormInfo.carrier,callback:function(t){e.$set(e.addFormInfo,"carrier",t)},expression:"addFormInfo.carrier"}})],1),i("el-form-item",{attrs:{label:"运输联系方式",prop:"carrier_phone"}},[i("el-input",{model:{value:e.addFormInfo.carrier_phone,callback:function(t){e.$set(e.addFormInfo,"carrier_phone",t)},expression:"addFormInfo.carrier_phone"}})],1),i("el-form-item",{attrs:{label:"运输数量",prop:"number"}},[i("el-input",{attrs:{placeholder:"单位：kg"},model:{value:e.addFormInfo.number,callback:function(t){e.$set(e.addFormInfo,"number",t)},expression:"addFormInfo.number"}})],1),i("el-form-item",{attrs:{label:"车牌号",prop:"license"}},[i("el-input",{model:{value:e.addFormInfo.license,callback:function(t){e.$set(e.addFormInfo,"license",t)},expression:"addFormInfo.license"}})],1),i("el-form-item",{attrs:{label:"快递单号",prop:"courier_number"}},[i("el-input",{model:{value:e.addFormInfo.courier_number,callback:function(t){e.$set(e.addFormInfo,"courier_number",t)},expression:"addFormInfo.courier_number"}})],1),i("el-form-item",{attrs:{label:"货运单图片名称",prop:"waybill_pic"}},[i("el-input",{attrs:{disabled:""},model:{value:e.addFormInfo.waybill_pic,callback:function(t){e.$set(e.addFormInfo,"waybill_pic",t)},expression:"addFormInfo.waybill_pic"}})],1),i("el-form-item",{attrs:{label:"货运单图片上传"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"image",action:e.uploadURL,"on-success":e.successEvent,"list-type":"picture"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png格式的图片，且图片大小不能超过1MB")])],1)],1),i("el-form-item",{attrs:{label:"现场图片名称",prop:"cargo_pic"}},[i("el-input",{attrs:{disabled:""},model:{value:e.addFormInfo.cargo_pic,callback:function(t){e.$set(e.addFormInfo,"cargo_pic",t)},expression:"addFormInfo.cargo_pic"}})],1),i("el-form-item",{attrs:{label:"现场图片上传"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"image",action:e.carGoUploadURL,"on-success":e.carGoSuccessEvent,"list-type":"picture"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png格式的图片，且图片大小不能超过1MB")])],1)],1),i("el-form-item",{attrs:{label:"发货日期",prop:"delivery_time"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.addFormInfo.delivery_time,callback:function(t){e.$set(e.addFormInfo,"delivery_time",t)},expression:"addFormInfo.delivery_time"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addFormSubmit}},[e._v("确 定")])],1)],1),i("editdialog",{ref:"editdialog",attrs:{editdialog:e.editDialogVisible}})],1)],1),i("el-col",{attrs:{span:1}},[i("el-divider",{attrs:{direction:"vertical"}})],1),i("el-col",{attrs:{span:10}},[i("el-card",[i("printer",{ref:"printer",staticClass:"printer"})],1)],1)],1),i("div")],1)},o=[],r=i("1da1"),n=(i("96cf"),i("d81d"),i("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{width:"100%","text-align":"center","font-size":"25px"}},[e._v("物流详细信息")]),i("el-descriptions",{staticClass:"margin-top",attrs:{title:"发件人信息",column:3,size:e.size,border:""}},[i("template",{slot:"extra"}),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-user"}),e._v(" 发货人 ")]),e._v(" "+e._s(e.printData.shiper_name)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" "+e._s(e.printData.shiper_phone)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-location-outline"}),e._v(" 发货地 ")]),e._v(" "+e._s(e.printData.ship_address)+" ")],2)],2),i("el-descriptions",{staticClass:"margin-top",attrs:{title:"收件人信息",column:3,size:e.size,border:""}},[i("template",{slot:"extra"}),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-user"}),e._v(" 收件人 ")]),e._v(" "+e._s(e.printData.client_name)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" "+e._s(e.printData.client_phone)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-location-outline"}),e._v(" 收货地址 ")]),e._v(" "+e._s(e.printData.destination)+" ")],2)],2),i("el-descriptions",{staticClass:"margin-top",attrs:{title:"运输信息",column:3,size:e.size,border:""}},[i("template",{slot:"extra"}),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-receiving"}),e._v(" 发货日期 ")]),e._v(" "+e._s(e.printData.delivery_time)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 运输联系方式 ")]),e._v(" "+e._s(e.printData.carrier_phone)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-truck"}),e._v(" 物流单号 ")]),e._v(" "+e._s(e.printData.courier_number)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-truck"}),e._v(" 运输车辆信息 ")]),e._v(" "+e._s(e.printData.license)+" ")],2)],2),i("el-descriptions",{staticClass:"margin-top",attrs:{title:"货物信息",column:3,size:e.size}},[i("template",{slot:"extra"}),i("el-descriptions-item",{attrs:{label:"产品名称"}},[e._v(e._s(e.printData.cpmc))]),i("el-descriptions-item",{attrs:{label:"生产企业"}},[e._v(e._s(e.printData.qymc))]),i("el-descriptions-item",{attrs:{label:"批次号"}},[e._v(e._s(e.printData.pch))]),i("el-descriptions-item",{attrs:{label:"运输数量"}},[e._v(e._s(e.printData.number)+"kg")]),i("el-descriptions-item",{attrs:{label:"订单编号"}},[e._v(" "+e._s(e.printData.order_number)+" ")])],2),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)}),l=[],s={data:function(){return{printData:{},size:""}},methods:{printCargoBill:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.post("CreateOrderNumber",{id:e});case 2:a=i.sent,o=a.data,console.log(o),t.printData=o.data,t.printCargoDialogVisible=!0;case 7:case"end":return i.stop()}}),i)})))()}}},c=s,d=(i("7824"),i("2877")),p=Object(d["a"])(c,n,l,!1,null,null,null),m=p.exports,u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"编辑物流信息",visible:e.editDialogVisible,width:"40%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[i("el-form",{ref:"editFormRef",attrs:{size:"medium",inline:!0,model:e.editFormInfo,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"产品名称"}},[i("el-select",{staticClass:"select-width",attrs:{placeholder:"请选择产品名称"},on:{change:e.getPch},model:{value:e.editFormInfo.cpmc,callback:function(t){e.$set(e.editFormInfo,"cpmc",t)},expression:"editFormInfo.cpmc"}},e._l(e.cpmcList,(function(e){return i("el-option",{key:e.index,attrs:{label:e,value:e}})})),1)],1),i("el-form-item",{attrs:{label:"批次号"}},[i("el-select",{staticClass:"select-width",attrs:{placeholder:"请选择产品批次号"},model:{value:e.editFormInfo.pch,callback:function(t){e.$set(e.editFormInfo,"pch",t)},expression:"editFormInfo.pch"}},e._l(e.pchList,(function(e){return i("el-option",{key:e.index,attrs:{value:e,label:e}})})),1)],1),i("el-form-item",{attrs:{label:"发货人",prop:"shiper_name"}},[i("el-input",{model:{value:e.editFormInfo.shiper_name,callback:function(t){e.$set(e.editFormInfo,"shiper_name",t)},expression:"editFormInfo.shiper_name"}})],1),i("el-form-item",{attrs:{label:"发货人联系方式",prop:"shiper_phone"}},[i("el-input",{model:{value:e.editFormInfo.shiper_phone,callback:function(t){e.$set(e.editFormInfo,"shiper_phone",t)},expression:"editFormInfo.shiper_phone"}})],1),i("el-form-item",{attrs:{label:"发货地址",prop:"ship_address"}},[i("el-input",{model:{value:e.editFormInfo.ship_address,callback:function(t){e.$set(e.editFormInfo,"ship_address",t)},expression:"editFormInfo.ship_address"}})],1),i("el-form-item",{attrs:{label:"目的地",prop:"destination"}},[i("el-input",{model:{value:e.editFormInfo.destination,callback:function(t){e.$set(e.editFormInfo,"destination",t)},expression:"editFormInfo.destination"}})],1),i("el-form-item",{attrs:{label:"收件人"}},[i("el-select",{staticClass:"select-width",attrs:{placeholder:"请选择收件人信息"},model:{value:e.editFormInfo.client_id,callback:function(t){e.$set(e.editFormInfo,"client_id",t)},expression:"editFormInfo.client_id"}},e._l(e.clientInfoList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.client_name,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"运送人",prop:"carrier"}},[i("el-input",{model:{value:e.editFormInfo.carrier,callback:function(t){e.$set(e.editFormInfo,"carrier",t)},expression:"editFormInfo.carrier"}})],1),i("el-form-item",{attrs:{label:"运输联系方式",prop:"carrier_phone"}},[i("el-input",{model:{value:e.editFormInfo.carrier_phone,callback:function(t){e.$set(e.editFormInfo,"carrier_phone",t)},expression:"editFormInfo.carrier_phone"}})],1),i("el-form-item",{attrs:{label:"运输数量",prop:"number"}},[i("el-input",{attrs:{placeholder:"单位：kg"},model:{value:e.editFormInfo.number,callback:function(t){e.$set(e.editFormInfo,"number",t)},expression:"editFormInfo.number"}})],1),i("el-form-item",{attrs:{label:"车牌号",prop:"license"}},[i("el-input",{model:{value:e.editFormInfo.license,callback:function(t){e.$set(e.editFormInfo,"license",t)},expression:"editFormInfo.license"}})],1),i("el-form-item",{attrs:{label:"快递单号",prop:"courier_number"}},[i("el-input",{model:{value:e.editFormInfo.courier_number,callback:function(t){e.$set(e.editFormInfo,"courier_number",t)},expression:"editFormInfo.courier_number"}})],1),i("el-form-item",{attrs:{label:"货运单图片名称",prop:"waybill_pic"}},[i("el-input",{attrs:{disabled:""},model:{value:e.editFormInfo.waybill_pic,callback:function(t){e.$set(e.editFormInfo,"waybill_pic",t)},expression:"editFormInfo.waybill_pic"}})],1),i("el-form-item",{attrs:{label:"货运单图片上传"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"image",action:e.uploadURL,"on-success":e.successEvent,"list-type":"picture"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png格式的图片，且图片大小不能超过1MB")])],1)],1),i("el-form-item",{attrs:{label:"现场图片名称",prop:"cargo_pic"}},[i("el-input",{attrs:{disabled:""},model:{value:e.editFormInfo.cargo_pic,callback:function(t){e.$set(e.editFormInfo,"cargo_pic",t)},expression:"editFormInfo.cargo_pic"}})],1),i("el-form-item",{attrs:{label:"现场图片上传"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"image",action:e.carGoUploadURL,"on-success":e.carGoSuccessEvent,"list-type":"picture"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png格式的图片，且图片大小不能超过1MB")])],1)],1),i("el-form-item",{attrs:{label:"发货日期",prop:"delivery_time"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.editFormInfo.delivery_time,callback:function(t){e.$set(e.editFormInfo,"delivery_time",t)},expression:"editFormInfo.delivery_time"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.editFormSubmit}},[e._v("确 定")])],1)],1)},f=[],h={props:{editdialog:{type:Boolean,default:!1}},data:function(){return{editDialogVisible:this.editdialog,editFormInfo:{id:"",cpmc:"",pch:"",destination:"",ship_address:"",carrier:"",accepter:"",carrier_phone:"",number:"",license:"",courier_number:"",waybill_pic:"",cargo_pic:"",delivery_time:"",shiper_name:"",shiper_phone:""}}},methods:{editInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http.post("EditTransportInfo",{token:t.tokenStr,id:e});case 2:a=i.sent,o=a.data,console.log(o),"不允许修改"==o&&t.$notify.error({title:"错误",message:"已生成物流单号，不允许修改"}),t.editFormInfo.id=o.data.id,t.editFormInfo.cpmc=o.data.cpmc,t.editFormInfo.pch=o.data.pch,t.editFormInfo.destination=o.data.destination,t.editFormInfo.ship_address=o.data.ship_address,t.editFormInfo.carrier=o.data.carrier,t.editFormInfo.accepter=o.data.accepter,t.editFormInfo.number=o.data.number,t.editFormInfo.license=o.data.license,t.editFormInfo.courier_number=o.data.courier_number,t.editFormInfo.carrier_phone=o.data.carrier_phone,t.editFormInfo.waybill_pic=o.data.waybill_pic,t.editFormInfo.cargo_pic=o.data.cargo_pic,t.editFormInfo.delivery_time=o.data.delivery_time,t.editFormInfo.shiper_name=o.data.shiper_name,t.editFormInfo.shiper_phone=o.data.shiper_phone,t.editDialogVisible=!0;case 23:case"end":return i.stop()}}),i)})))()},editFormSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("DoEditTransportInfo",e.editFormInfo);case 2:e.editDialogVisible=!1,e.$message.success("编辑成功"),e.getDataList();case 5:case"end":return t.stop()}}),t)})))()}}},b=h,_=Object(d["a"])(b,u,f,!1,null,null,null),I=_.exports,g=(i("d3b7"),{init:function(){return new Promise((function(e,t){if("undefined"!==typeof window.T)return console.log("地图脚本初始化成功1111..."),e(window.T),!0;window.onload=function(){console.log("地图脚本初始化成功..."),e(window.T)}}))}}),v={components:{printer:m,editdialog:I},data:function(){return{conheight:{height:"600px"},printid:"",size:"",tokenStr:"",queryInfo:{token:"",query:"",page:1,pageSize:8},total:0,tableData:[],addDialogVisible:!1,editDialogVisible:!1,printCargoDialogVisible:!1,addFormInfo:{client_id:"",cpmc:"",pch:"",destination:"",ship_address:"",carrier:"",accepter:"",carrier_phone:"",number:"",license:"",courier_number:"",waybill_pic:"",cargo_pic:"",delivery_time:"",shiper_phone:"",shiper_name:""},uploadURL:"",carGoUploadURL:"",editFormInfo:{id:"",cpmc:"",pch:"",destination:"",ship_address:"",carrier:"",accepter:"",carrier_phone:"",number:"",license:"",courier_number:"",waybill_pic:"",cargo_pic:"",delivery_time:"",shiper_name:"",shiper_phone:""},cpInfoList:[],cpmcList:[],printData:{},clientInfoList:[],pchList:[]}},created:function(){this.tokenStr=window.sessionStorage.getItem("token"),this.getDataList(),this.getPrintData(),this.setUploadURL()},methods:{roadMap:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:g.init().then((function(t){e.T=t;var i="http://t0.tianditu.gov.cn/img_c/wmts?tk=b02dec10c18d1827f87ef79acf6cd3c0";new t.TileLayer(i,{minZoom:1,maxZoom:18});e.map=new t.Map("mapDiv");var a=new t.Control.MapType;e.map.addControl(a),e.map.centerAndZoom(new t.LngLat(116.40969,37.43997405227057),5),e.map.setStyle("indigo")})).catch();case 1:case"end":return t.stop()}}),t)})))()},printCargoBill:function(e){this.printid=e,this.$refs.printer.printCargoBill(e)},getDataList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryInfo.token=e.tokenStr,t.next=3,e.$http.post("TransportList",e.queryInfo);case 3:i=t.sent,a=i.data,console.log(a.data.result),e.tableData=a.data.result,e.total=a.data.total,e.printCargoBill(e.tableData[0].id);case 9:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getDataList()},addFormSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addFormInfo.token=e.tokenStr,t.next=3,e.$http.post("AddTransportInfo",e.addFormInfo);case 3:e.getDataList(),e.addDialogVisible=!1,e.$refs.addFormRef.resetFields();case 6:case"end":return t.stop()}}),t)})))()},successEvent:function(e,t,i){this.addFormInfo.waybill_pic=t.name,this.editFormInfo.waybill_pic=t.name,console.log(e,t.name)},carGoSuccessEvent:function(e,t,i){this.addFormInfo.cargo_pic=t.name,this.editFormInfo.cargo_pic=t.name,console.log(e,t.name)},setUploadURL:function(){this.tokenStr=window.sessionStorage.getItem("token"),this.uploadURL="http://ahteaapi.wtycms.cn/TransportWaybillupload?token="+this.tokenStr,this.carGoUploadURL="http://ahteaapi.wtycms.cn/TransportCargoupload?token="+this.tokenStr},editInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.getClientInfo(),t.editDialogVisible=!0,t.$refs.editdialog.editInfo(e);case 3:case"end":return i.stop()}}),i)})))()},editFormSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("DoEditTransportInfo",e.editFormInfo);case 2:e.editDialogVisible=!1,e.$message.success("编辑成功"),e.getDataList();case 5:case"end":return t.stop()}}),t)})))()},delInfo:function(e){var t=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.post("DelTransportInfo",{token:t.tokenStr,id:e}),t.$message({type:"success",message:"删除成功!"}),t.getDataList()})).catch((function(){t.$message({type:"info",message:"已取消删除"})})),this.getDataList()},clickAdd:function(){this.addDialogVisible=!0,this.getClientInfo()},setClientId:function(e){console.log(e),this.addFormInfo.client_id=e},getClientInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("SelectClientName");case 2:i=t.sent,a=i.data,console.log(a),e.clientInfoList=a.data;case 6:case"end":return t.stop()}}),t)})))()},getPrintData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("ProductionInfo",e.queryInfo);case 2:for(i=t.sent,a=i.data,console.log(a),e.cpInfoList=a.data.result,o=0;o<e.cpInfoList.length;o++)-1==e.cpmcList.indexOf(e.cpInfoList[o].cpmc)&&e.cpmcList.push(e.cpInfoList[o].cpmc);console.log(e.cpInfoList);case 8:case"end":return t.stop()}}),t)})))()},getAddPch:function(){this.pchList=[];for(var e=0;e<this.cpInfoList.length;e++)this.addFormInfo.cpmc==this.cpInfoList[e].cpmc&&this.pchList.push(this.cpInfoList[e].pch)},getPch:function(){this.pchList=[];for(var e=0;e<this.cpInfoList.length;e++)this.editFormInfo.cpmc==this.cpInfoList[e].cpmc&&this.pchList.push(this.cpInfoList[e].pch)}}},F=v,y=(i("aab5"),Object(d["a"])(F,a,o,!1,null,"124426ac",null));t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-1fbb3855.3f476af5.js.map
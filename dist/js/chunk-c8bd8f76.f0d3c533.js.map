{"version":3,"sources":["webpack:///./src/components/enterprise/nszyInfo/nszyInfo.vue?a911","webpack:///src/components/enterprise/nszyInfo/nszyInfo.vue","webpack:///./src/components/enterprise/nszyInfo/nszyInfo.vue?eb67","webpack:///./src/components/enterprise/nszyInfo/nszyInfo.vue","webpack:///./src/components/enterprise/nszyInfo/nszyInfo.vue?ae08"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","ref","on","getDataList","model","value","queryInfo","callback","$$v","$set","expression","slot","$event","addDialogVisible","Refresh","staticStyle","dataInfoList","scopedSlots","_u","key","fn","scope","editInfo","row","bh","delInfo","total","pageSize","handleCurrentChange","addFormInfo","_l","item","cdbh","chandi","addFormSubmit","editDialogVisible","editFormInfo","editFormSubmit","staticRenderFns","data","option","title","text","textAlign","left","legend","show","tooltip","xAxis","type","name","triggerEvent","yAxis","series","tokenStr","token","query","page","zyr","nszy","trpmc","zyl","zyldw","rq","selectchandi","created","getTokenStr","getEchatData","mounted","myChart","$echarts","init","$refs","nszyChart","setOption","methods","window","sessionStorage","getItem","component"],"mappings":"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","file":"js/chunk-c8bd8f76.f0d3c533.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"农事作业信息\")]),_c('el-breadcrumb-item',[_vm._v(\"上传农事作业信息\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{ref:\"nszyChart\",staticClass:\"nszyChart\"}),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"clearable\":\"\",\"placeholder\":\"请输入农事作业名称\"},on:{\"clear\":_vm.getDataList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getDataList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"新增农事作业\")])],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.Refresh}},[_vm._v(\"刷新\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataInfoList}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"生产企业名称\",\"prop\":\"qymc\"}}),_c('el-table-column',{attrs:{\"label\":\"产地名称\",\"prop\":\"chandi\"}}),_c('el-table-column',{attrs:{\"label\":\"农事作业\",\"prop\":\"nszy\"}}),_c('el-table-column',{attrs:{\"label\":\"投入品名称\",\"prop\":\"trpmc\"}}),_c('el-table-column',{attrs:{\"label\":\"作业人\",\"prop\":\"zyr\"}}),_c('el-table-column',{attrs:{\"label\":\"作业量\",\"prop\":\"newZyl\"}}),_c('el-table-column',{attrs:{\"label\":\"日期\",\"prop\":\"rq\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"编辑\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editInfo(scope.row.bh)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top-end\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.delInfo(scope.row.bh)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next,total\",\"total\":_vm.total,\"page-size\":_vm.queryInfo.pageSize},on:{\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"新增农事作业\",\"visible\":_vm.addDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event}}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addFormInfo,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"产地名称\",\"label-width\":\"100px\",\"prop\":\"chandi\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择作业地块\"},model:{value:(_vm.addFormInfo.cdbh),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"cdbh\", $$v)},expression:\"addFormInfo.cdbh\"}},_vm._l((_vm.selectchandi),function(item){return _c('el-option',{key:item.cdbh,attrs:{\"label\":item.chandi,\"value\":item.cdbh}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"农事作业\",\"label-width\":\"100px\",\"prop\":\"nszy\"}},[_c('el-input',{model:{value:(_vm.addFormInfo.nszy),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"nszy\", $$v)},expression:\"addFormInfo.nszy\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作业人\",\"label-width\":\"100px\",\"prop\":\"zyr\"}},[_c('el-input',{model:{value:(_vm.addFormInfo.zyr),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"zyr\", $$v)},expression:\"addFormInfo.zyr\"}})],1),_c('el-form-item',{attrs:{\"label\":\"投入品名称\",\"label-width\":\"100px\",\"prop\":\"trpmc\"}},[_c('el-input',{model:{value:(_vm.addFormInfo.trpmc),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"trpmc\", $$v)},expression:\"addFormInfo.trpmc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作业量\",\"label-width\":\"100px\",\"prop\":\"zyl\"}},[_c('el-input',{model:{value:(_vm.addFormInfo.zyl),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"zyl\", $$v)},expression:\"addFormInfo.zyl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单位\",\"label-width\":\"100px\",\"prop\":\"zyldw\"}},[_c('el-input',{model:{value:(_vm.addFormInfo.zyldw),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"zyldw\", $$v)},expression:\"addFormInfo.zyldw\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作业日期\",\"label-width\":\"100px\",\"prop\":\"rq\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.addFormInfo.rq),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"rq\", $$v)},expression:\"addFormInfo.rq\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addFormSubmit}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改农事作业\",\"visible\":_vm.editDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editFormInfo,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"产地名称\",\"label-width\":\"100px\",\"prop\":\"chandi\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择作业地块\"},model:{value:(_vm.editFormInfo.cdbh),callback:function ($$v) {_vm.$set(_vm.editFormInfo, \"cdbh\", $$v)},expression:\"editFormInfo.cdbh\"}},_vm._l((_vm.selectchandi),function(item){return _c('el-option',{key:item.cdbh,attrs:{\"label\":item.chandi,\"value\":item.cdbh}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"农事作业\",\"label-width\":\"100px\",\"prop\":\"nszy\"}},[_c('el-input',{model:{value:(_vm.editFormInfo.nszy),callback:function ($$v) {_vm.$set(_vm.editFormInfo, \"nszy\", $$v)},expression:\"editFormInfo.nszy\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作业人\",\"label-width\":\"100px\",\"prop\":\"zyr\"}},[_c('el-input',{model:{value:(_vm.editFormInfo.zyr),callback:function ($$v) {_vm.$set(_vm.editFormInfo, \"zyr\", $$v)},expression:\"editFormInfo.zyr\"}})],1),_c('el-form-item',{attrs:{\"label\":\"投入品名称\",\"label-width\":\"100px\",\"prop\":\"trpmc\"}},[_c('el-input',{model:{value:(_vm.editFormInfo.trpmc),callback:function ($$v) {_vm.$set(_vm.editFormInfo, \"trpmc\", $$v)},expression:\"editFormInfo.trpmc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作业量\",\"label-width\":\"100px\",\"prop\":\"zyl\"}},[_c('el-input',{model:{value:(_vm.editFormInfo.zyl),callback:function ($$v) {_vm.$set(_vm.editFormInfo, \"zyl\", $$v)},expression:\"editFormInfo.zyl\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单位\",\"label-width\":\"100px\",\"prop\":\"zyldw\"}},[_c('el-input',{model:{value:(_vm.addFormInfo.zyldw),callback:function ($$v) {_vm.$set(_vm.addFormInfo, \"zyldw\", $$v)},expression:\"addFormInfo.zyldw\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作业日期\",\"label-width\":\"100px\",\"prop\":\"rq\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.editFormInfo.rq),callback:function ($$v) {_vm.$set(_vm.editFormInfo, \"rq\", $$v)},expression:\"editFormInfo.rq\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editFormSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>农事作业信息</el-breadcrumb-item>\r\n      <el-breadcrumb-item>上传农事作业信息</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区 -->\r\n    <el-card class=\"box-card\">\r\n      <!-- echarts图表盒子 -->\r\n      <div class=\"nszyChart\" ref=\"nszyChart\"></div>\r\n      <!-- 搜索与添加区域 -->\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <el-input\r\n            clearable\r\n            v-model=\"queryInfo.query\"\r\n            @clear=\"getDataList\"\r\n            placeholder=\"请输入农事作业名称\"\r\n            class=\"input-with-select\"\r\n          >\r\n            <el-button\r\n              @click=\"getDataList\"\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\"\r\n            >新增农事作业</el-button\r\n          >\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <el-button type=\"primary\" @click=\"Refresh\"\r\n            >刷新</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 农事作业列表区域 -->\r\n      <el-table :data=\"dataInfoList\" style=\"width: 100%\">\r\n        <el-table-column label=\"编号\" type=\"index\"></el-table-column>\r\n        <el-table-column label=\"生产企业名称\" prop=\"qymc\"></el-table-column>\r\n        <el-table-column label=\"产地名称\" prop=\"chandi\"></el-table-column>\r\n        <el-table-column label=\"农事作业\" prop=\"nszy\"></el-table-column>\r\n        <el-table-column label=\"投入品名称\" prop=\"trpmc\"></el-table-column>\r\n        <el-table-column label=\"作业人\" prop=\"zyr\"></el-table-column>\r\n        <el-table-column label=\"作业量\" prop=\"newZyl\"></el-table-column>\r\n        <el-table-column label=\"日期\" prop=\"rq\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"150\">\r\n          <!-- 插槽自定义样式 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip effect=\"dark\" content=\"编辑\" placement=\"top-start\">\r\n              <el-button\r\n                @click=\"editInfo(scope.row.bh)\"\r\n                type=\"primary\"\r\n                icon=\"el-icon-edit\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip effect=\"dark\" content=\"删除\" placement=\"top-end\">\r\n              <el-button\r\n                type=\"warning\"\r\n                @click=\"delInfo(scope.row.bh)\"\r\n                icon=\"el-icon-delete\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next,total\"\r\n        :total=\"total\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n      <!-- 新增农事作业dialog -->\r\n      <el-dialog\r\n        title=\"新增农事作业\"\r\n        :visible.sync=\"addDialogVisible\"\r\n        width=\"30%\"\r\n      >\r\n        <!-- 表单区 -->\r\n        <el-form ref=\"addFormRef\" :model=\"addFormInfo\" label-width=\"80px\">\r\n          <el-form-item label=\"产地名称\" label-width=\"100px\" prop=\"chandi\">\r\n            <el-select v-model=\"addFormInfo.cdbh\" placeholder=\"请选择作业地块\">\r\n              <el-option :label=\"item.chandi\" v-for=\"item in selectchandi\" :key=\"item.cdbh\" :value=\"item.cdbh\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"农事作业\" label-width=\"100px\" prop=\"nszy\">\r\n            <el-input v-model=\"addFormInfo.nszy\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"作业人\" label-width=\"100px\" prop=\"zyr\">\r\n            <el-input v-model=\"addFormInfo.zyr\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"投入品名称\" label-width=\"100px\" prop=\"trpmc\" >\r\n            <el-input v-model=\"addFormInfo.trpmc\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"作业量\" label-width=\"100px\" prop=\"zyl\">\r\n            <el-input v-model=\"addFormInfo.zyl\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"单位\" label-width=\"100px\" prop=\"zyldw\">\r\n            <el-input v-model=\"addFormInfo.zyldw\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"作业日期\" label-width=\"100px\" prop=\"rq\">\r\n            <el-date-picker\r\n              value-format=\"yyyy-MM-dd\"\r\n              format=\"yyyy-MM-dd\"\r\n              v-model=\"addFormInfo.rq\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n            >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addFormSubmit\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 修改农事作业dialog -->\r\n      <el-dialog\r\n        title=\"修改农事作业\"\r\n        :visible.sync=\"editDialogVisible\"\r\n        width=\"30%\"\r\n      >\r\n        <!-- 表单区 -->\r\n        <el-form ref=\"editFormRef\" :model=\"editFormInfo\" label-width=\"80px\">\r\n          <el-form-item label=\"产地名称\" label-width=\"100px\" prop=\"chandi\">\r\n            <el-select v-model=\"editFormInfo.cdbh\" placeholder=\"请选择作业地块\">\r\n              <el-option :label=\"item.chandi\" v-for=\"item in selectchandi\" :key=\"item.cdbh\" :value=\"item.cdbh\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"农事作业\" label-width=\"100px\" prop=\"nszy\">\r\n            <el-input v-model=\"editFormInfo.nszy\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"作业人\" label-width=\"100px\" prop=\"zyr\">\r\n            <el-input v-model=\"editFormInfo.zyr\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"投入品名称\" label-width=\"100px\" prop=\"trpmc\" >\r\n            <el-input v-model=\"editFormInfo.trpmc\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"作业量\" label-width=\"100px\" prop=\"zyl\">\r\n            <el-input v-model=\"editFormInfo.zyl\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"单位\" label-width=\"100px\" prop=\"zyldw\">\r\n            <el-input v-model=\"addFormInfo.zyldw\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"作业日期\" label-width=\"100px\" prop=\"rq\">\r\n            <el-date-picker\r\n              value-format=\"yyyy-MM-dd\"\r\n              format=\"yyyy-MM-dd\"\r\n              v-model=\"editFormInfo.rq\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n            >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editFormSubmit\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      option: {\r\n        title: {\r\n          text: \"农事作业详情\",\r\n          textAlign: \"auto\",\r\n          left: \"center\"\r\n        },\r\n        legend: {\r\n          show: false,\r\n          data: [\"农事作业记录\"]\r\n        },\r\n        tooltip: {\r\n          show: true\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: [],\r\n          name: \"作业人\",\r\n          triggerEvent: true\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: \"作业量（条）\",\r\n          triggerEvent: true\r\n        },\r\n        series: [\r\n          {\r\n            name: \"农事作业记录\",\r\n            data: [],\r\n            type: \"bar\",\r\n            barWidth: \"50\"\r\n          }\r\n        ]\r\n      },\r\n      tokenStr: \"\",\r\n      queryInfo: {\r\n        token: \"\",\r\n        query: \"\",\r\n        page: 1,\r\n        pageSize:5,\r\n        zyr: \"\"\r\n      },\r\n      total: 0,\r\n      dataInfoList: [],\r\n      addDialogVisible: false,\r\n      editDialogVisible:false,\r\n      addFormInfo: {\r\n        token:'',\r\n        chandi:'',\r\n        cdbh:'',\r\n        nszy:'',\r\n        zyr:'',\r\n        trpmc:'',\r\n        zyl:'',\r\n        zyldw:'',\r\n        rq:''\r\n      },\r\n      editFormInfo:{\r\n\r\n      },\r\n      selectchandi:[]\r\n    };\r\n  },\r\n  created() {\r\n    this.getTokenStr();\r\n    this.getEchatData();\r\n    this.getDataList();\r\n  },\r\n  mounted() {\r\n    this.myChart = this.$echarts.init(this.$refs.nszyChart);\r\n    this.myChart.setOption(this.option);\r\n    this.myChart.on(\"click\", param => {\r\n      // console.log(param.name,this)\r\n      this.queryInfo.zyr = param.name;\r\n      this.getDataList();\r\n    });\r\n  },\r\n  methods: {\r\n    getTokenStr() {\r\n      this.tokenStr = window.sessionStorage.getItem(\"token\");\r\n    },\r\n    // 获取echarts图表的显示数据\r\n    async getEchatData() {\r\n      const { data: res } = await this.$http.post(\"Countfarmoperation\", {\r\n        token: this.tokenStr\r\n      });\r\n      //  console.log(res.data,res.data.map(item=>({value:item.name})))\r\n\r\n      this.option.xAxis.data = res.data.map(item => ({ value: item.name }));\r\n      this.option.series[0].data = res.data.map(item => ({\r\n        value: item.value\r\n      }));\r\n      this.myChart.setOption(this.option);\r\n    },\r\n    // 获取农事作业列表显示数据\r\n    async getDataList() {\r\n      this.queryInfo.token = this.tokenStr;\r\n      const { data: res } = await this.$http.post(\r\n        \"FarmingoperationsInfo\",\r\n        this.queryInfo\r\n      );\r\n      this.dataInfoList = res.data.result;\r\n      this.total = res.data.total;\r\n      console.log(this.dataInfoList)\r\n      //  拼接作业量和单位\r\n      // 这里如果数据删除完 dataInfoList为undifine程序会报错\r\n      if(this.dataInfoList != undefined){\r\n         for(let i=0;i<this.dataInfoList.length;i++){\r\n         this.dataInfoList[i].newZyl = this.dataInfoList[i].zyl + this.dataInfoList[i].zyldw\r\n       }\r\n      }\r\n      //  新增产地，下拉框数据\r\n    const {data:selectRes} =await this.$http.post('SelectPlace',{token:this.tokenStr})\r\n    this.selectchandi = selectRes.data;\r\n      // console.log(res.data,this.selectchandi);\r\n    },\r\n    // 点击翻页重新发起数据请求\r\n    handleCurrentChange(newPage){\r\n        this.queryInfo.page = newPage;\r\n        this.getDataList();\r\n    },\r\n   async addFormSubmit(){\r\n        this.addFormInfo.token = this.tokenStr;\r\n       await this.$http.post(\"AddFarmingoperationsInfo\",this.addFormInfo)\r\n        this.getDataList();\r\n        this.getEchatData();\r\n        this.addDialogVisible = false;\r\n        this.$refs.addFormRef.resetFields();\r\n    },\r\n   async editInfo(id){\r\n     const {data:res} = await this.$http.post(\"EditFarmingoperationsInfo\",{token:this.tokenStr,bh:id})\r\n    //  console.log(res)\r\n      this.editFormInfo = res.data\r\n      this.editDialogVisible = true;\r\n    },\r\n    editFormSubmit(){\r\n      this.editFormInfo.token =this.tokenStr;\r\n    this.$http.post('DoEditFarmingoperationsInfo',this.editFormInfo)\r\n    this.getDataList();\r\n    this.editDialogVisible =false;\r\n    },\r\n   async delInfo(id){\r\n        const confirmRes =await this.$confirm('此操作将永久删除该条农事作业信息, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).catch(err=>err)\r\n        if(confirmRes !='confirm'){\r\n          return this.$message.info('取消删除')\r\n        }\r\n        const res = await this.$http.post('DelFarmingoperationsInfo',{\r\n            token:this.tokenStr,bh:id\r\n          })\r\n        if(res.status !== 200){\r\n          return this.$message.error('删除农事作业信息失败')\r\n        }\r\n        this.$message.success('删除农事作业信息成功')\r\n        this.getDataList();\r\n        console.log(res)\r\n    },\r\n    // 点击Echart图后需要点击刷新按钮界面重新加载数据\r\n    Refresh(){\r\n      this.queryInfo.zyr =''\r\n      this.getDataList()\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-breadcrumb {\r\n  height: 30px;\r\n}\r\n.el-pagination {\r\n  margin-top: 10px;\r\n}\r\n.nszyChart {\r\n  width: 100%;\r\n  height: 300px;\r\n  // background-color: #ccc;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nszyInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nszyInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nszyInfo.vue?vue&type=template&id=888b197e&scoped=true&\"\nimport script from \"./nszyInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./nszyInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./nszyInfo.vue?vue&type=style&index=0&id=888b197e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"888b197e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nszyInfo.vue?vue&type=style&index=0&id=888b197e&scoped=true&lang=less&\""],"sourceRoot":""}
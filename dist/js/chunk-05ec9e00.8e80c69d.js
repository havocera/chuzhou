(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05ec9e00"],{"3db7":function(e,t,n){},"4d37":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),n("el-breadcrumb-item",[e._v("流通过程管理")]),n("el-breadcrumb-item",[e._v("客户信息表")])],1),n("el-card",{staticClass:"box-card"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入投入品名称"},on:{clear:e.getDataList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getDataList},slot:"append"})],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新增客户信息")])],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{type:"index",label:"编号"}}),n("el-table-column",{attrs:{prop:"client_firm",label:"客户企业名称",width:"180"}}),n("el-table-column",{attrs:{prop:"client_name",label:"客户姓名"}}),n("el-table-column",{attrs:{prop:"client_phone",label:"客户电话"}}),n("el-table-column",{attrs:{prop:"client_source",label:"客户来源"}}),n("el-table-column",{attrs:{prop:"client_address",label:"客户地址"}}),n("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top-start"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(n){return e.editInfo(t.row.id)}}})],1),n("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top-end"}},[n("el-button",{attrs:{type:"warning",icon:"el-icon-delete"},on:{click:function(n){return e.delInfo(t.row.id)}}})],1)]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:e.total,"page-size":e.queryInfo.pageSize},on:{"current-change":e.handleCurrentChange}}),n("el-dialog",{attrs:{title:"新增客户信息",visible:e.addDialogVisible,width:"40%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[n("el-form",{ref:"addFormRef",attrs:{size:"medium",inline:!0,model:e.addClientInfo,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"客户公司名称",prop:"trpmc"}},[n("el-input",{model:{value:e.addClientInfo.client_firm,callback:function(t){e.$set(e.addClientInfo,"client_firm",t)},expression:"addClientInfo.client_firm"}})],1),n("el-form-item",{attrs:{label:"客户名称",prop:"nyscz"}},[n("el-input",{model:{value:e.addClientInfo.client_name,callback:function(t){e.$set(e.addClientInfo,"client_name",t)},expression:"addClientInfo.client_name"}})],1),n("el-form-item",{attrs:{label:"客户电话",prop:"nydjzh"}},[n("el-input",{model:{value:e.addClientInfo.client_phone,callback:function(t){e.$set(e.addClientInfo,"client_phone",t)},expression:"addClientInfo.client_phone"}})],1),n("el-form-item",{attrs:{label:"客户地址",prop:"nyscdz"}},[n("el-input",{model:{value:e.addClientInfo.client_address,callback:function(t){e.$set(e.addClientInfo,"client_address",t)},expression:"addClientInfo.client_address"}})],1),n("el-form-item",{attrs:{label:"客户来源",prop:"nyzj"}},[n("el-input",{model:{value:e.addClientInfo.client_source,callback:function(t){e.$set(e.addClientInfo,"client_source",t)},expression:"addClientInfo.client_source"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addFormSubmit}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"新增客户信息",visible:e.editDialogVisible,width:"40%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[n("el-form",{ref:"editFormRef",attrs:{size:"medium",inline:!0,model:e.editClientInfo,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"客户公司名称",prop:"trpmc"}},[n("el-input",{model:{value:e.editClientInfo.client_firm,callback:function(t){e.$set(e.editClientInfo,"client_firm",t)},expression:"editClientInfo.client_firm"}})],1),n("el-form-item",{attrs:{label:"客户名称",prop:"nyscz"}},[n("el-input",{model:{value:e.editClientInfo.client_name,callback:function(t){e.$set(e.editClientInfo,"client_name",t)},expression:"editClientInfo.client_name"}})],1),n("el-form-item",{attrs:{label:"客户电话",prop:"nydjzh"}},[n("el-input",{model:{value:e.editClientInfo.client_phone,callback:function(t){e.$set(e.editClientInfo,"client_phone",t)},expression:"editClientInfo.client_phone"}})],1),n("el-form-item",{attrs:{label:"客户地址",prop:"nyscdz"}},[n("el-input",{model:{value:e.editClientInfo.client_address,callback:function(t){e.$set(e.editClientInfo,"client_address",t)},expression:"editClientInfo.client_address"}})],1),n("el-form-item",{attrs:{label:"客户来源",prop:"nyzj"}},[n("el-input",{model:{value:e.editClientInfo.client_source,callback:function(t){e.$set(e.editClientInfo,"client_source",t)},expression:"editClientInfo.client_source"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.editFormSubmit}},[e._v("确 定")])],1)],1)],1)],1)},l=[],a=n("1da1"),o=(n("96cf"),{data:function(){return{tokenStr:"",queryInfo:{token:"",query:"",page:1,pageSize:5},total:0,tableData:[],addDialogVisible:!1,editDialogVisible:!1,addClientInfo:{client_firm:"",client_name:"",client_phone:"",client_address:"",client_source:""},editClientInfo:{}}},created:function(){this.tokenStr=window.sessionStorage.getItem("token"),this.getDataList()},methods:{getDataList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryInfo.token=e.tokenStr,t.next=3,e.$http.post("ClientList",e.queryInfo);case 3:n=t.sent,i=n.data,console.log(i.data.result),e.tableData=i.data.result,e.total=i.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getDataList()},addFormSubmit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("AddClientInfo",e.addClientInfo);case 2:e.getDataList(),e.addDialogVisible=!1,e.$refs.addFormRef.resetFields();case 5:case"end":return t.stop()}}),t)})))()},editInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.post("EditClientInfo",{id:e});case 2:i=n.sent,l=i.data,console.log(l.data),t.editClientInfo=l.data,t.editDialogVisible=!0;case 7:case"end":return n.stop()}}),n)})))()},editFormSubmit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("DoEditClientInfo",e.editClientInfo);case 2:e.editDialogVisible=!1,e.$message.success("编辑成功"),e.getDataList();case 5:case"end":return t.stop()}}),t)})))()},delInfo:function(e){var t=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.post("DelClientInfo",{id:e}),t.$message({type:"success",message:"删除成功!"}),t.getDataList()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}}),r=o,s=(n("9cc4"),n("2877")),c=Object(s["a"])(r,i,l,!1,null,"963422c2",null);t["default"]=c.exports},"9cc4":function(e,t,n){"use strict";n("3db7")}}]);
//# sourceMappingURL=chunk-05ec9e00.8e80c69d.js.map
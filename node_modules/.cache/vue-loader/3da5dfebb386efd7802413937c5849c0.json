{"remainingRequest":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\chuzhouxueyuan\\src\\components\\sym.vue?vue&type=style&index=0&id=336b9167&lang=less&scoped=true&","dependencies":[{"path":"E:\\code\\chuzhouxueyuan\\src\\components\\sym.vue","mtime":1663772455613},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\css-loader\\dist\\cjs.js","mtime":1670835183126},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1670835191289},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\postcss-loader\\src\\index.js","mtime":1670835186768},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\less-loader\\dist\\cjs.js","mtime":1670835184857},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670835181809},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\index.js","mtime":1670835187845}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnN5bXRpdGxlewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgLy8gYmFja2dyb3VuZC1jb2xvcjogIzI1OWIxZjsKICAgIGZvbnQtc2l6ZTogMjBweDsKICAgIHdpZHRoOiA2MCU7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBtYXJnaW46IDAgYXV0bzsKICAgIC8vIGJvcmRlci1yYWRpdXM6IDQwcHg7CiAgICBsaW5lLWhlaWdodDogNDBweDsKICAgIC8vIGNvbG9yOiAjZmZmZmZmOwogICAgY29sb3I6ICMwMDAgIWltcG9ydGFudDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5kZXN7CiAgICB3aWR0aDogODAlOwogICAgbWFyZ2luOiA1cHggYXV0bzsKfQoucmlnaHRjZWxsewogIHdpZHRoOjE1MHB4Owp9Ci52YW4tY2VsbC1mb250LXNpemV7CiAgICAgIGZvbnQtc2l6ZTogMTBweDsKfQo="},{"version":3,"sources":["sym.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sym.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n          <van-nav-bar title=\"物联网+区块链食品安全追溯系统\" /> \r\n          <van-notice-bar\r\n  left-icon=\"volume-o\"\r\n  background=\"#ecf9ff\"\r\n  color=\"#1989fa\"\r\n  :text=\"'欢迎使用物联网+区块链食品安全追溯系统，该产品是由“'+ showInfo.Qy_basic.qymc+'”生产，一物一码真实溯源。'\"\r\n/>\r\n          <van-image width=\"100%\" height=\"200\" :src=\"showInfo.picname\" />\r\n                  <div class=\"symtitle\">产地档案</div>\r\n          <div class=\"des\">\r\n              <van-cell-group>\r\n  <van-cell title=\"产地名称\" :value=\"showInfo.chandi.chandi\" />\r\n  <van-cell title=\"产地地址\" :value=\"showInfo.chandi.detailAddress\" />\r\n  <van-cell title=\"经度\" :value=\"showInfo.chandi.lng\" />\r\n  <van-cell title=\"纬度\" :value=\"showInfo.chandi.lat\" />\r\n  <van-cell title=\"土壤温度\" value=\"14.8℃\" />\r\n  <van-cell title=\"土壤湿度\" value=\"16.3%\" />\r\n  <van-cell title=\"PH值\" value=\"5.9\" />\r\n    <van-collapse v-model=\"activeNames\">\r\n  <van-collapse-item title=\"产地图\" name=\"99\">\r\n            <van-image \r\n            width=\"100%\"\r\n            height=\"200\"\r\n            fit=\"contain\" \r\n            :src=\"showInfo.Qy_basic.qy_pic\" />\r\n    <!-- <p>上链凭证：{{showInfo.honor[0].honor_hash}}</p> -->\r\n    <van-cell-group>\r\n\r\n</van-cell-group>\r\n\r\n  </van-collapse-item>\r\n</van-collapse>\r\n  \r\n</van-cell-group>\r\n          </div>\r\n\r\n           <div class=\"symtitle\">产品档案</div>\r\n                 <div class=\"des\">\r\n              <p style=\"font-family:楷体;\">&nbsp;&nbsp;&nbsp;\r\n                  {{this.showInfo.ms}}\r\n              </p>\r\n          </div>\r\n          <div class=\"des\">\r\n              <van-cell-group>\r\n  <van-cell title=\"产品名称\" :value=\"showInfo.cpmc\" />\r\n  <van-cell title=\"生产企业\" title-style=\"width:50px;!important\" value-class=\"rightcell\" :value=\"showInfo.Qy_basic.qymc\" />\r\n  <van-cell title=\"生产日期\" :value=\"showInfo.rq\" />\r\n   <van-cell title=\"包装规格\" :value=\"showInfo.cpgg\" />\r\n     <van-cell title=\"保质期\" :value=\"showInfo.bzq+'月'\" />\r\n  <van-cell title=\"企业电话\" :value=\"showInfo.Qy_basic.fzrtel\" />\r\n   <van-cell title=\"非遗传承人\" value=\"省级\" />\r\n   <van-collapse v-model=\"activeNames\">\r\n       <van-cell title=\"产品检验\" value=\"合格\" />\r\n  <van-collapse-item title=\"检验报告\" name=\"2\">\r\n<van-image  width=\"100%\"\r\n  height=\"200\" :src=\"jianceImg\">\r\n  <template v-slot:error>暂未上传检验报告</template>\r\n</van-image>\r\n  </van-collapse-item>\r\n</van-collapse>\r\n \r\n</van-cell-group>\r\n\r\n    <div class=\"symtitle\">企业认证</div>\r\n <div class=\"des\" style=\"width:100%;\">\r\n               <van-collapse v-model=\"activeNames\">\r\n  <van-collapse-item title=\"有机认证\" name=\"3\">\r\n <van-image \r\n            width=\"100%\"\r\n            height=\"200\"\r\n            fit=\"contain\" \r\n            :src=\"youjiImg\" />\r\n  </van-collapse-item>\r\n  \r\n  <!-- <van-collapse-item title=\"三品一标\" name=\"4\">暂未上传认证信息</van-collapse-item> -->\r\n\r\n  <van-collapse-item title=\"绿色食品\" name=\"6\">  \r\n    暂未上传认证信息\r\n    <!-- <van-image \r\n            width=\"100%\"\r\n            height=\"200\"\r\n            fit=\"contain\" \r\n            :src=\"lvseImg\" /> -->\r\n    </van-collapse-item>\r\n      <van-collapse-item title=\"无公害农产品\" name=\"5\">暂未上传认证信息</van-collapse-item>\r\n  <!-- <van-collapse-item title=\"有机食品\" name=\"7\"> </van-collapse-item> -->\r\n  <van-collapse-item title=\"农产品地理标志\" name=\"8\">\r\n     <!-- <van-image \r\n            width=\"100%\"\r\n            height=\"200\"\r\n            fit=\"contain\" \r\n            :src=\"dlbzImg\" /> -->\r\n            暂未上传认证信息\r\n  </van-collapse-item>\r\n  \r\n  <van-collapse-item title=\"生态原产地保护产品（PEOP）\" name=\"9\">\r\n      <van-image \r\n            width=\"100%\"\r\n            height=\"200\"\r\n            fit=\"contain\" \r\n            :src=\"dlbzImg\" />\r\n  </van-collapse-item>\r\n\r\n</van-collapse>\r\n </div>\r\n\r\n          </div>\r\n <div class=\"symtitle\">销售地图</div>\r\n<div id=\"main\" style=\"width:100%;height:300px;\" ref=\"myChart\">\r\n\r\n</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import * as echarts from 'echarts';\r\n// import echarts from \"echarts\";\r\nimport \"../assets/js/china.js\"\r\n    export default {\r\n        data(){\r\n            return{\r\n                sym:'',\r\n                showInfo:{\r\n                },\r\n                 activeNames: ['1'],\r\n                 youjiImg:'',\r\n                 lvseImg:'',\r\n                 dlbzImg:'',\r\n                 wghImg:'',\r\n                 jianceImg:''\r\n            }\r\n        },\r\n        created(){\r\n            // const getRequest =this\r\n                this.getRequest()\r\n                // this.drawMap();      \r\n        },\r\n        mounted(){\r\n              // this.setTimeout(this.drawLine(),3000);\r\n              setTimeout(()=>{\r\n                this.drawLine();\r\n              },1000)\r\n        },\r\n        methods:{\r\n            async getRequest(){\r\n             const url = window.location.href\r\n              const  split_url = url.split('/')\r\n            //   console.log(split_url)\r\n              const symNum = split_url[5]\r\n                this.sym = symNum\r\n                const {data:res} =  await this.$http.post(\r\n                    'ShowInformation',\r\n                    {sym:this.sym}\r\n                )\r\n                // console.log(res)\r\n                console.log(res.code)\r\n                if (res.code === -1){\r\n                        this.$router.push('/symReset')\r\n                }else if(res.code === 0){\r\n                    this.showInfo = res.data;\r\n                    \r\n                    console.log(this.showInfo)\r\n                    if(res.data.jcxx!= null ){\r\n                      this.jianceImg = res.data.jcxx.picture;\r\n                    };\r\n                     if(res.data.dlbz!= null ){\r\n                      this.dlbzImg =res.data.dlbz.license_pic;\r\n                    };\r\n                        if(res.data.youji!= null ){\r\n                     this.youjiImg =res.data.youji.license_pic;\r\n                    };\r\n                    if(res.data.lvse!= null ){\r\n                    this.lvseImg =res.data.lvse.license_pic;\r\n                    };\r\n                     if(res.data.wgh!= null ){\r\n                     this.wghImg =res.data.wgh.license_pic;\r\n                    };\r\n                      \r\n                     \r\n                      \r\n                }\r\n            },\r\n             drawLine(){\r\n        // 基于准备好的dom，初始化echarts实例\r\n        let myChart = this.$echarts.init(this.$refs.myChart)\r\n        // 绘制图表\r\n   let option = {\r\n        tooltip: {\r\n          show: false\r\n        },\r\n        geo: {\r\n          map: \"china\",\r\n          roam: false,// 一定要关闭拖拽\r\n          zoom: 1.23,\r\n          center: [105, 36], // 调整地图位置\r\n          label: {\r\n            normal: {\r\n              show: false, //关闭省份名展示\r\n              fontSize: \"10\",\r\n              color: \"rgba(0,0,0,0.7)\"\r\n            },\r\n            emphasis: {\r\n              show: false\r\n            }\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              areaColor: \"#0d0059\",\r\n              borderColor: \"#389dff\",\r\n              borderWidth: 1, //设置外层边框\r\n              shadowBlur: 5,\r\n              shadowOffsetY: 8,\r\n              shadowOffsetX: 0,\r\n              shadowColor: \"#01012a\"\r\n            },\r\n            emphasis: {\r\n              areaColor: \"#184cff\",\r\n              shadowOffsetX: 0,\r\n              shadowOffsetY: 0,\r\n              shadowBlur: 5,\r\n              borderWidth: 0,\r\n              shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n            }\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            type: \"map\",\r\n            map: \"china\",\r\n            roam: false,\r\n            zoom: 1.23,\r\n            center: [105, 36],\r\n            // geoIndex: 1,\r\n            // aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            label: {\r\n              normal: {\r\n                show: false\r\n              },\r\n              emphasis: {\r\n                show: false,\r\n                textStyle: {\r\n                  color: \"#fff\"\r\n                }\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                areaColor: \"#0d0059\",\r\n                borderColor: \"#389dff\",\r\n                borderWidth: 0.5\r\n              },\r\n              emphasis: {\r\n                areaColor: \"#17008d\",\r\n                shadowOffsetX: 0,\r\n                shadowOffsetY: 0,\r\n                shadowBlur: 5,\r\n                borderWidth: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n   myChart.setOption(option);\r\n\r\n  //  打点\r\n     var dataValue = this.dealWithData();\r\n      var data1 = dataValue.splice(0, 6);\r\n      var option2 = {\r\n        series: [\r\n          {\r\n            type: \"map\",\r\n            map: \"china\",\r\n            roam: false,\r\n            zoom: 1.23,\r\n            center: [105, 36],\r\n            // geoIndex: 1,\r\n            // aspectScale: 0.75, //长宽比\r\n            showLegendSymbol: false, // 存在legend时显示\r\n            label: {\r\n              normal: {\r\n                show: false\r\n              },\r\n              emphasis: {\r\n                show: false\r\n              }\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                areaColor: \"#0d0059\",\r\n                borderColor: \"#389dff\",\r\n                borderWidth: 0.5\r\n              },\r\n              emphasis: {\r\n                areaColor: \"#17008d\",\r\n                shadowOffsetX: 0,\r\n                shadowOffsetY: 0,\r\n                shadowBlur: 5,\r\n                borderWidth: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }\r\n            }\r\n          },\r\n          {\r\n            name: \"\",\r\n            type: \"scatter\",\r\n            coordinateSystem: \"geo\",\r\n            data: dataValue,\r\n            //   symbolSize: function(val) {\r\n            //     return val[2] / 10;\r\n            //   },\r\n            symbol: \"circle\",\r\n            symbolSize: 8,\r\n            hoverSymbolSize: 10,\r\n            tooltip: {\r\n              formatter(value) {\r\n                return value.data.name + \"<br/>\" + \"设备数：\" + \"22\";\r\n              },\r\n              show: true\r\n            },\r\n            encode: {\r\n              value: 2\r\n            },\r\n            label: {\r\n              formatter: \"{b}\",\r\n              position: \"right\",\r\n              show: false\r\n            },\r\n            itemStyle: {\r\n              color: \"#0efacc\"\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: false\r\n              }\r\n            }\r\n          },\r\n          {\r\n            name: \"Top 5\",\r\n            type: \"effectScatter\",\r\n            coordinateSystem: \"geo\",\r\n            data: data1,\r\n            symbolSize: 15,\r\n            tooltip: {\r\n              show: false\r\n            },\r\n            encode: {\r\n              value: 2\r\n            },\r\n            showEffectOn: \"render\",\r\n            rippleEffect: {\r\n              brushType: \"stroke\",\r\n              color: \"#0efacc\",\r\n              period: 9,\r\n              scale: 5\r\n            },\r\n            hoverAnimation: true,\r\n            label: {\r\n              formatter: \"{b}\",\r\n              position: \"right\",\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              color: \"#0efacc\",\r\n              shadowBlur: 2,\r\n              shadowColor: \"#333\"\r\n            },\r\n            zlevel: 1\r\n          }\r\n        ]\r\n      };\r\n      myChart.setOption(option2);\r\n             },\r\n            // 打点数据\r\n dealWithData() {\r\n      var geoCoordMap = {\r\n        福建: [119.3, 26.08],\r\n        北京: [116.46, 39.92],\r\n        合肥: [117.27, 31.86],\r\n        杭州: [120.19,30.26],\r\n       \r\n      };\r\n      var data = [];\r\n      for (var key in geoCoordMap) {\r\n        data.push({ name: key, value: geoCoordMap[key] });\r\n      }\r\n      return data;\r\n    }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .symtitle{\r\n        text-align: center;\r\n        // background-color: #259b1f;\r\n        font-size: 20px;\r\n        width: 60%;\r\n        height: 40px;\r\n        margin: 0 auto;\r\n        // border-radius: 40px;\r\n        line-height: 40px;\r\n        // color: #ffffff;\r\n        color: #000 !important;\r\n        font-weight: bold;\r\n    }\r\n    .des{\r\n        width: 80%;\r\n        margin: 5px auto;\r\n    }\r\n    .rightcell{\r\n      width:150px;\r\n    }\r\n    .van-cell-font-size{\r\n          font-size: 10px;\r\n    }\r\n</style>"]}]}
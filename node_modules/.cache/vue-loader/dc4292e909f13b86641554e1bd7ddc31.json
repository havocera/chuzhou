{"remainingRequest":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\chuzhouxueyuan\\src\\components\\enterprise\\cunzheng\\czsystem.vue?vue&type=style&index=0&id=5f16237a&scoped=true&lang=less&","dependencies":[{"path":"E:\\code\\chuzhouxueyuan\\src\\components\\enterprise\\cunzheng\\czsystem.vue","mtime":1646922847357},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\css-loader\\dist\\cjs.js","mtime":1670835183126},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1670835191289},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\postcss-loader\\src\\index.js","mtime":1670835186768},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\less-loader\\dist\\cjs.js","mtime":1670835184857},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670835181809},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\index.js","mtime":1670835187845}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5lbC1yb3cgew0KICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgJjpsYXN0LWNoaWxkIHsNCiAgICAgIG1hcmdpbi1ib3R0b206IDA7DQogICAgfQ0KICB9DQogIC5lbC1jb2wgew0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgfQ0KICAuYmctcHVycGxlLWRhcmsgew0KICAgIGJhY2tncm91bmQ6ICNmZmY7DQogIH0NCiAgLy8g6IOM5pmv6ImyDQogIC5iZy1wdXJwbGUgew0KICAgIGJhY2tncm91bmQ6ICNkM2RjZTY7DQogIH0NCiAgLmJnLXB1cnBsZS1saWdodCB7DQogICAgYmFja2dyb3VuZDogI2U1ZTlmMjsNCiAgfQ0KICAuZ3JpZC1jb250ZW50IHsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgbWluLWhlaWdodDogMzZweDsNCiAgfQ0KICAucm93LWJnIHsNCiAgICBwYWRkaW5nOiAxMHB4IDA7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYzsNCiAgfQ0KICB1cGxvYWQtZGVtb3sNCiAgICBoZWlnaHQ6IDMwMHB4Ow0KICB9DQogIGltYWdlLXNsb3R7DQogICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgICAgICAgIGNvbnRlbnQ6ICIiOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgfQ0KIGVsLWNvbnRhaW5lcnsNCiAgIHdpZHRoOiAxMDAlOw0KIH0NCiAgLm1haW57DQogICAgbWFyZ2luOiAwIGF1dG87DQogICAgbWFyZ2luLXRvcDoxMDBweDsNCiAgICB3aWR0aDogODAwcHg7DQogICAgZGlzcGxheTogLXdlYmtpdC1mbGV4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93Ow0KICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogIH0NCiAgLnF5Rm9ybXsNCiAgICB3aWR0aDogNTAwcHg7DQogIH0NCiAgLnF5SW1new0KICAgIHdpZHRoOiAzMDBweDsNCiAgICBoZWlnaHQ6IDIwMHB4Ow0KICAgIC8vIG1hcmdpbi10b3A6MTUwcHg7DQogICAgbWFyZ2luLWxlZnQ6NTBweDsNCiAgfQ0K"},{"version":3,"sources":["czsystem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAySA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"czsystem.vue","sourceRoot":"src/components/enterprise/cunzheng","sourcesContent":["<template>\r\n\r\n  <div>\r\n        <!-- 上链状态显示 -->\r\n    <el-steps :active=\"2\" align-center style=\"margin-top:20px;\" finish-status=\"success\">\r\n  <el-step title=\"存证信息上传\" description=\"上传存证信息\"></el-step>\r\n  <el-step title=\"申请上链\" description=\"申请上链中，等待系统审核\"></el-step>\r\n  <el-step title=\"信息上链成功\" description=\"信息已上链，无法篡改！\"></el-step>\r\n</el-steps>\r\n <!-- 上链状态显示 -->\r\n <el-container>\r\n    <div class=\"main\">\r\n           <div class=\"qyForm\">\r\n    <el-form label-width=\"100px\" :model=\"businessInfo\">\r\n      <el-form-item label=\"企业名称\">\r\n        <el-input disabled v-model=\"businessInfo.qymc\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"企业负责人\">\r\n        <el-input disabled v-model=\"businessInfo.fzr\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"负责人手机号\">\r\n        <el-input disabled v-model=\"businessInfo.fzrtel\"></el-input>\r\n      </el-form-item>\r\n       <el-form-item label=\"企业信用代码\">\r\n        <el-input disabled v-model=\"businessInfo.xydm\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"企业地址\">\r\n        <el-input disabled v-model=\"businessInfo.addr\"></el-input>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"企业类型\">\r\n        <el-input :disabled=\"true\" v-model=\"businessInfo.qylx\"></el-input>\r\n      </el-form-item> -->\r\n      <el-form-item label=\"主营业务\">\r\n        <el-input disabled v-model=\"businessInfo.zyyw\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"主营产品\">\r\n        <el-input disabled v-model=\"businessInfo.zycp\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"经营规模\">\r\n        <el-input disabled v-model=\"businessInfo.jygm\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"企业简介\">\r\n        <el-input  :rows=\"4\" disabled type=\"textarea\" v-model=\"businessInfo.dwjj\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n  <div class=\"qyImg\">\r\n    <!-- 营业执照上传 -->\r\n      <div class=\"grid-content bg-purple\" style=\"text-align:center;padding-top:15px;\">\r\n<div class=\"block\">\r\n    <el-image :src=\"businessInfo.business_license_path\"  style=\"width: 300px; height: 200px\">\r\n      <div slot=\"error\" class=\"image-slot\">\r\n        未上传营业执照信息，加载失败<span class=\"dot\">...</span>\r\n        <!-- <el-empty description=\"描述文字\"></el-empty> -->\r\n      </div>\r\n    </el-image>\r\n  </div>\r\n  <el-tag>上链凭证：{{yyzzCode}}</el-tag>\r\n <el-button type=\"primary\" size=\"small\"  @click=\"yyzzUpload\" style=\"width:100%;margin-top:10px;\">营业执照上传</el-button>\r\n  </div>\r\n\r\n  <!-- 荣誉证书上传 -->\r\n       <div class=\"grid-content bg-purple\" style=\"text-align:center;margin-top:150px;\">\r\n<div class=\"block\">\r\n    <el-image :src=\"honor_picture\"  style=\"width: 300px; height: 200px\" >\r\n      <div slot=\"error\" class=\"image-slot\">\r\n        未上传营业执照信息，加载失败<span class=\"dot\">...</span>\r\n        <!-- <el-empty description=\"描述文字\"></el-empty> -->\r\n      </div>\r\n    </el-image>\r\n  </div>\r\n  <el-tag>上链凭证：{{yyzzCode}}</el-tag>\r\n <el-button type=\"success\" size=\"small\"  @click=\"ryzsUpload\" style=\"width:100%;margin-top:10px;\">荣誉证书上传</el-button>\r\n  </div>\r\n  </div>\r\n  \r\n    </div>\r\n      \r\n \r\n</el-container>\r\n\r\n\r\n\r\n\r\n\r\n     <!-- 营业执照信息Dialog弹窗 -->\r\n     <el-dialog\r\n  :title=\"uploadTittle\"\r\n  :visible.sync=\"UploadDialogVisible\"\r\n  width=\"40%\"\r\n  center>\r\n \r\n<el-form label-position=\"left\" label-width=\"100px\" :model=\"formLabelAlign\">\r\n  <el-form-item :label=\"uploadLable\">\r\n      <el-upload\r\n  name=\"image\"\r\n  :action=\"uploadURL\"\r\n  list-type=\"picture-card\"\r\n  >\r\n  <i class=\"el-icon-plus\"></i>\r\n</el-upload>\r\n  </el-form-item>\r\n\r\n</el-form>\r\n\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"UploadDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"submitUpload\">确 定</el-button>\r\n  </span>\r\n</el-dialog>\r\n\r\n<!-- 荣誉证书上传dialog -->\r\n     <el-dialog\r\n  title=\"荣誉证书上传\"\r\n  :visible.sync=\"ryzsDialogVisible\"\r\n  width=\"40%\"\r\n  center>\r\n \r\n<el-form label-position=\"left\" label-width=\"100px\" :model=\"formLabelAlign\">\r\n   <el-form-item label=\"荣誉证书名称\">\r\n    <el-input v-model=\"honorForm.name\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"荣誉证书上传\">\r\n      <el-upload\r\n  name=\"image\"\r\n  :action=\"ryzsuploadURL\"\r\n   :on-success=\"ryzsUploadSuccess\"\r\n  list-type=\"picture-card\"\r\n  >\r\n  <i class=\"el-icon-plus\"></i>\r\n</el-upload>\r\n  </el-form-item>\r\n\r\n</el-form>\r\n\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"ryzsDialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"submitRyzsUpload\">确 定</el-button>\r\n  </span>\r\n</el-dialog>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n      data(){\r\n        return{\r\n            businessInfo:{\r\n          qymc:'',\r\n          fzr:'',\r\n          fzrtel:'',\r\n          addr:'',\r\n          qylx:'',\r\n          zyyw:'',\r\n          zycp:'',\r\n          jygm:'',\r\n          dwjj:'',\r\n          xydm:'',\r\n        },\r\n          // url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg'\r\n          url:'',\r\n          src: 'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg',\r\n          // src:'',\r\n             srcList: [\r\n          'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\r\n          'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg'\r\n        ],\r\n        yyzzSrc:'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg',\r\n        youjiSrc:'',\r\n        greenSrc:'',\r\n        locationSrc:'',\r\n        yyzzCode:'该信息未上链',\r\n        youjiCode:'该信息未上链',\r\n        greenCode:'该信息未上链',\r\n        locationCode:'该信息未上链',\r\n        UploadDialogVisible:false,\r\n        spybDialogVisible:false,\r\n        ryzsDialogVisible:false,\r\n        honorForm:{\r\n          name:'',\r\n          honor_pic:''\r\n        },\r\n\r\n        ryzsList:[],\r\n        honor_picture:'',\r\n        formLabelAlign:{\r\n\r\n        },\r\n        uploadForm:{\r\n          flag:'',\r\n          license_name:''\r\n        },\r\n          uploadURL:'',\r\n          rrzsuploadURL:'',\r\n          uploadTittle:'',\r\n          uploadLable:''\r\n        }\r\n      },\r\n      created(){\r\n        this.getDataList();\r\n        this.getBusinessInfo();\r\n      },\r\n      methods:{\r\n         // 请求企业信息\r\n    async getBusinessInfo(){\r\n      // 从sessionStorage里取出存的token\r\n     const tokenStr = window.sessionStorage.getItem('token')\r\n     const {data:res} = await this.$http.post('BusinessInfo',{token:tokenStr})\r\n     const {data:ryzsRes} = await this.$http.post('HonorList',{token:tokenStr})\r\n    // console.log(ryzsRes.data)\r\n    console.log(res)\r\n    this.ryzsList = ryzsRes.data.result;\r\n    this.honor_picture = ryzsRes.data.result[0].honor_picture;\r\n    this.businessInfo=res.data;\r\n    },\r\n        submitUpload(){\r\n            this.getDataList();\r\n            this.UploadDialogVisible = false;\r\n        },\r\n        // 图片上传成功，获取图片名称，存入提交表单中\r\n     successEvent(response, file, fileList){\r\n\r\n        this.uploadForm.license_name = response.data.saveName;\r\n        // this.editProductForm.picname = file.name;\r\n        console.log(response,file.name)\r\n    },\r\n    // 列表图片请求\r\n    async getDataList(){\r\n          const{data:res} =await this.$http.post('LicenseList');\r\n          this.yyzzSrc = res.data.qy.business_license;\r\n          this.yyzzCode =res.data.qy.qy_code;\r\n          this.youjiSrc = res.data.yj[0].youji_name;\r\n           this.youjiCode = res.data.yj[0].youji_code;\r\n          //  this.greenSrc = res.data.lvse\r\n\r\n          console.log(res)\r\n    },\r\n        //  营业执照上传\r\n    yyzzUpload(){\r\n        this.uploadTittle = \"营业执照上传\";\r\n        this.uploadLable =\"营业执照上传\";\r\n        this.tokenStr = window.sessionStorage.getItem('token');\r\n        this.uploadURL = 'http://ahteaapi.wtycms.cn/Enterpriseupload?token=' + this.tokenStr;\r\n        // console.log(this.uploadURL)\r\n        this.UploadDialogVisible = true\r\n    },\r\n        // 企业基本证书上传\r\n           jbzsUpload(){\r\n        this.uploadTittle = \"企业基本证书上传\";\r\n        this.uploadLable =\"企业基本证书上传\";\r\n        this.tokenStr = window.sessionStorage.getItem('token');\r\n        this.uploadURL = 'http://ahteaapi.wtycms.cn/Enterpriseupload?token=' + this.tokenStr;\r\n        // console.log(this.uploadURL)\r\n        this.UploadDialogVisible = true\r\n    },\r\n    // 三品一标证书上传\r\n    spybUpload(){\r\n         this.tokenStr = window.sessionStorage.getItem('token');\r\n         this.uploadURL = 'http://ahteaapi.wtycms.cn/Spybupload?token=' + this.tokenStr;\r\n        // console.log(this.uploadURL)\r\n         this.spybDialogVisible = true\r\n    },\r\n    submitspyb(){\r\n        this.$http.post('AddLicenseInfo',this.uploadForm)\r\n        this.spybDialogVisible = false;\r\n    },\r\n      // 荣誉证书上传\r\n     ryzsUpload(){\r\n        this.tokenStr = window.sessionStorage.getItem('token');\r\n        this.ryzsuploadURL = 'http://ahteaapi.wtycms.cn/Honorupload?token=' + this.tokenStr;\r\n        // console.log(this.uploadURL)\r\n        this.ryzsDialogVisible = true\r\n    },\r\n    ryzsUploadSuccess(response){\r\n        console.log(response.data.saveName)\r\n        this.honorForm.honor_pic = response.data.saveName;\r\n        \r\n    },\r\n   async submitRyzsUpload(){\r\n      const{data:res} = await this.$http.post('AddHonor',this.honorForm)\r\n       console.log(res);\r\n       if(res.code == 0){\r\n             this.$notify({\r\n          title: '成功',\r\n          message: '荣誉证书上传成功',\r\n          type: 'success'\r\n        });\r\n           this.ryzsDialogVisible = false;\r\n       }\r\n      \r\n    },\r\n      }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-row {\r\n    margin-bottom: 20px;\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .el-col {\r\n    border-radius: 4px;\r\n  }\r\n  .bg-purple-dark {\r\n    background: #fff;\r\n  }\r\n  // 背景色\r\n  .bg-purple {\r\n    background: #d3dce6;\r\n  }\r\n  .bg-purple-light {\r\n    background: #e5e9f2;\r\n  }\r\n  .grid-content {\r\n    border-radius: 4px;\r\n    min-height: 36px;\r\n  }\r\n  .row-bg {\r\n    padding: 10px 0;\r\n    background-color: #f9fafc;\r\n  }\r\n  upload-demo{\r\n    height: 300px;\r\n  }\r\n  image-slot{\r\n     display: inline-block;\r\n            content: \"\";\r\n            height: 100%;\r\n            vertical-align: middle;\r\n  }\r\n el-container{\r\n   width: 100%;\r\n }\r\n  .main{\r\n    margin: 0 auto;\r\n    margin-top:100px;\r\n    width: 800px;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-flex-direction: row;\r\n    flex-direction: row;\r\n  }\r\n  .qyForm{\r\n    width: 500px;\r\n  }\r\n  .qyImg{\r\n    width: 300px;\r\n    height: 200px;\r\n    // margin-top:150px;\r\n    margin-left:50px;\r\n  }\r\n</style>"]}]}
{"remainingRequest":"E:\\code\\chuzhouxueyuan\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\chuzhouxueyuan\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\chuzhouxueyuan\\src\\components\\enterprise\\jcInfo\\jczd.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\chuzhouxueyuan\\src\\components\\enterprise\\jcInfo\\jczd.vue","mtime":1638881938000},{"path":"E:\\code\\chuzhouxueyuan\\babel.config.js","mtime":1638881940000},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670835181809},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\babel-loader\\lib\\index.js","mtime":1670835187872},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670835181809},{"path":"E:\\code\\chuzhouxueyuan\\node_modules\\vue-loader\\lib\\index.js","mtime":1670835187845}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6XFxjb2RlXFxjaHV6aG91eHVleXVhblxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlblN0cjogIiIsCiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIHRva2VuOiAiIiwKICAgICAgICBxdWVyeTogIiIsCiAgICAgICAgc3RhcnRUaW1lOiAnJywKICAgICAgICBlbmRUaW1lOiAnJywKICAgICAgICBwYWdlOiAxLAogICAgICAgIHBhZ2VTaXplOiA1CiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBzZWxlY3RUaW1lOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFRva2VuU3RyKCk7CiAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUb2tlblN0cjogZnVuY3Rpb24gZ2V0VG9rZW5TdHIoKSB7CiAgICAgIHRoaXMudG9rZW5TdHIgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgIH0sCiAgICBnZXREYXRhTGlzdDogZnVuY3Rpb24gZ2V0RGF0YUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMkJGh0dHAkcG8sIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMucXVlcnlJbmZvLnRva2VuID0gX3RoaXMudG9rZW5TdHI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5wb3N0KCJBdXRvRGV0ZWN0aW9uSW5mbyIsIF90aGlzLnF1ZXJ5SW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkaHR0cCRwbyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMkJGh0dHAkcG8uZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVzdWx0OwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2UgPSBuZXdQYWdlOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgc3VibWl0UXVlcnlUaW1lOiBmdW5jdGlvbiBzdWJtaXRRdWVyeVRpbWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5zZWxlY3RUaW1lKTsKICAgICAgICAgICAgICAgIF90aGlzMi5xdWVyeUluZm8udG9rZW4gPSBfdGhpczIudG9rZW5TdHI7CiAgICAgICAgICAgICAgICBfdGhpczIucXVlcnlJbmZvLnN0YXJ0VGltZSA9IF90aGlzMi5zZWxlY3RUaW1lWzBdOwogICAgICAgICAgICAgICAgX3RoaXMyLnF1ZXJ5SW5mby5lbmRUaW1lID0gX3RoaXMyLnNlbGVjdFRpbWVbMV07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLnBvc3QoJ0F1dG9EZXRlY3Rpb25JbmZvJywgX3RoaXMyLnF1ZXJ5SW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMi5nZXREYXRhTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["jczd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA,EAHA;AAIA,QAAA,OAAA,EAAA,EAJA;AAKA,QAAA,IAAA,EAAA,CALA;AAMA,QAAA,QAAA,EAAA;AANA,OAFA;AAUA,MAAA,KAAA,EAAA,CAVA;AAWA,MAAA,SAAA,EAAA,EAXA;AAYA,MAAA,UAAA,EAAA;AAZA,KAAA;AAcA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,SAAA,WAAA;AACA,SAAA,WAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,QAAA,GAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,SAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA;AADA;AAAA,uBAEA,KAAA,CAAA,KAAA,CAAA,IAAA,CACA,mBADA,EAEA,KAAA,CAAA,SAFA,CAFA;;AAAA;AAAA;AAEA,gBAAA,GAFA,yBAEA,IAFA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAbA;AAcA,IAAA,mBAdA,+BAcA,OAdA,EAcA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,OAAA;AACA,WAAA,WAAA;AACA,KAjBA;AAkBA,IAAA,eAlBA,6BAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,UAAA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,KAAA,GAAA,MAAA,CAAA,QAAA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,SAAA,GAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAA;AAJA;AAAA,uBAKA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,mBAAA,EAAA,MAAA,CAAA,SAAA,CALA;;AAAA;AAMA,gBAAA,MAAA,CAAA,WAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAzBA;AArBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>检测信息上传</el-breadcrumb-item>\r\n      <el-breadcrumb-item>检测信息自动上传</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区 -->\r\n    <el-card class=\"box-card\">\r\n      <!-- 搜索与添加区域 -->\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"6\">\r\n          <!-- 时间选择器 -->\r\n          <!-- <el-date-picker\r\n      format=\"yyyy-MM-dd\"\r\n       value-format=\"yyyy-MM-dd\"\r\n      v-model=\"selectTime\"\r\n      type=\"daterange\"\r\n      range-separator=\"至\"\r\n      start-placeholder=\"开始日期\"\r\n      end-placeholder=\"结束日期\">\r\n    </el-date-picker> -->\r\n     <el-date-picker\r\n      v-model=\"selectTime\"\r\n      value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n      type=\"datetimerange\"\r\n      align=\"right\"\r\n      start-placeholder=\"开始日期\"\r\n      end-placeholder=\"结束日期\"\r\n      :default-time=\"['00:00:00', '23:59:59']\">\r\n    </el-date-picker>\r\n        </el-col>\r\n      <el-col :span=\"3\">\r\n          <el-button type=\"primary\" @click=\"submitQueryTime\" icon=\"el-icon-search\"> 搜索</el-button>\r\n      </el-col>\r\n      </el-row>\r\n      <!-- 数据列表 -->\r\n      <el-table :data=\"tableData\" style=\"width: 100%\">\r\n        <el-table-column label=\"编号\" type=\"index\"> </el-table-column>\r\n        <el-table-column prop=\"qymc\" label=\"企业名称\" width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"pch\" label=\"批次号\"> </el-table-column>\r\n        <el-table-column prop=\"jcnr\" label=\"检测内容\"> </el-table-column>\r\n        <el-table-column prop=\"jcz\" label=\"检测值\"> </el-table-column>\r\n        <el-table-column prop=\"szdw\" label=\"数值单位\"> </el-table-column>\r\n        <el-table-column prop=\"jcjg\" label=\"检测结果\"> </el-table-column>\r\n        <el-table-column prop=\"ybmc\" label=\"检测样本名称\"> </el-table-column>\r\n        <el-table-column prop=\"jcdd\" label=\"检测地点\"> </el-table-column>\r\n        <el-table-column prop=\"yjbz\" label=\"依据标准\"> </el-table-column>\r\n        <el-table-column prop=\"xlz\" label=\"限量值\"> </el-table-column>\r\n        <el-table-column prop=\"szdw\" label=\"数值单位\"> </el-table-column>\r\n        <el-table-column prop=\"rq\" label=\"检测日期\"> </el-table-column>\r\n      </el-table>\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next,total\"\r\n        :total=\"total\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      tokenStr: \"\",\r\n      queryInfo: {\r\n        token: \"\",\r\n        query: \"\",\r\n        startTime:'',\r\n        endTime:'',\r\n        page: 1,\r\n        pageSize: 5\r\n      },\r\n      total: 0,\r\n      tableData: [],\r\n      selectTime:[]\r\n    };\r\n  },\r\n  created() {\r\n    this.getTokenStr();\r\n    this.getDataList();\r\n  },\r\n  methods: {\r\n    getTokenStr() {\r\n      this.tokenStr = window.sessionStorage.getItem(\"token\");\r\n    },\r\n    async getDataList() {\r\n      this.queryInfo.token = this.tokenStr;\r\n      const { data: res } = await this.$http.post(\r\n        \"AutoDetectionInfo\",\r\n        this.queryInfo\r\n      );\r\n      console.log(res);\r\n      this.total = res.data.total;\r\n      this.tableData = res.data.result;\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.page = newPage;\r\n      this.getDataList();\r\n    },\r\n async submitQueryTime(){\r\n      console.log(this.selectTime)\r\n      this.queryInfo.token = this.tokenStr;\r\n      this.queryInfo.startTime=this.selectTime[0];\r\n      this.queryInfo.endTime = this.selectTime[1];\r\n await this.$http.post('AutoDetectionInfo',this.queryInfo)\r\n    this.getDataList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-breadcrumb {\r\n  height: 30px;\r\n}\r\n.el-pagination {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/enterprise/jcInfo"}]}
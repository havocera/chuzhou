{"map":"{\"version\":3,\"sources\":[\"js/chunk-56f0b5fb.68748056.js\"],\"names\":[\"window\",\"push\",\"0af9\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticStyle\",\"width\",\"height\",\"position\",\"margin-top\",\"attrs\",\"data\",\"tableData\",\"border\",\"prop\",\"label\",\"text-align\",\"current-page\",\"queryInfo\",\"page\",\"background\",\"layout\",\"total\",\"page-size\",\"pageSize\",\"on\",\"current-change\",\"handleCurrentChange\",\"title\",\"visible\",\"printDialogVisible\",\"destroy-on-close\",\"center\",\"update:visible\",\"$event\",\"staticClass\",\"id\",\"_v\",\"_s\",\"symMsg\",\"cpmc\",\"fzrtel\",\"sym\",\"ref\",\"slot\",\"directives\",\"name\",\"rawName\",\"value\",\"expression\",\"type\",\"staticRenderFns\",\"asyncToGenerator\",\"qrcodejs2_qrcode\",\"qrcode_default\",\"n\",\"symListvue_type_script_lang_js_\",\"printStyle\",\"printCpmc\",\"printPch\",\"cpInfoList\",\"cpmcList\",\"pchList\",\"postMsg\",\"token\",\"pch\",\"query\",\"tokenStr\",\"isAddInfo\",\"form\",\"region\",\"date1\",\"date2\",\"delivery\",\"resource\",\"desc\",\"printNum\",\"print2DialogVisible\",\"downloadButton\",\"configs\",\"imagePath\",\"filter\",\"created\",\"sessionStorage\",\"getItem\",\"getPrintData\",\"getTableData\",\"methods\",\"_this\",\"Object\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"_yield$_this$$http$po\",\"res\",\"wrap\",\"_context\",\"prev\",\"next\",\"$http\",\"post\",\"sent\",\"console\",\"log\",\"result\",\"stop\",\"_this2\",\"_callee2\",\"_yield$_this2$$http$p\",\"i\",\"_context2\",\"length\",\"indexOf\",\"getPch\",\"newPage\",\"createCode\",\"_this3\",\"_callee3\",\"_yield$_this3$$http$p\",\"_context3\",\"$message\",\"error\",\"abrupt\",\"date\",\"codeUrl\",\"baseUrl\",\"$nextTick\",\"qrcode\",\"a\",\"text\",\"watch\",\"symInfo_symListvue_type_script_lang_js_\",\"componentNormalizer\",\"component\",\"e8930\",\"ee50\",\"exports\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-56f0b5fb\"],{\"0af9\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticStyle:{width:\"100%\",height:\"100%\",position:\"relative\"}},[a(\"el-table\",{staticStyle:{width:\"100%\",\"margin-top\":\"50px\"},attrs:{data:t.tableData,height:\"550\",border:\"\"}},[a(\"el-table-column\",{attrs:{prop:\"cpmc\",label:\"产品名称\"}}),a(\"el-table-column\",{attrs:{prop:\"chandi\",label:\"产地\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"pch\",label:\"批次号\"}}),a(\"el-table-column\",{attrs:{prop:\"sym\",label:\"溯源码\"}}),a(\"el-table-column\",{attrs:{prop:\"smcs\",label:\"扫码次数\"}}),a(\"el-table-column\",{attrs:{prop:\"date\",label:\"溯源码生成时间\",width:\"180\"}})],1),a(\"el-pagination\",{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"10px\"},attrs:{\"current-page\":t.queryInfo.page,background:\"\",layout:\"prev, pager, next, total\",total:t.total,\"page-size\":t.queryInfo.pageSize},on:{\"current-change\":t.handleCurrentChange}}),a(\"el-dialog\",{attrs:{title:\"二维码打印界面\",visible:t.printDialogVisible,width:\"30%\",\"destroy-on-close\":!0,center:\"\"},on:{\"update:visible\":function(e){t.printDialogVisible=e}}},[a(\"div\",{staticClass:\"symContainer\",attrs:{id:\"printArea\"}},[a(\"div\",{staticClass:\"sym-tit\"},[t._v(\" 物联网+区块链食品安全追溯系统 \")]),a(\"ul\",{staticClass:\"symInfo\"},[a(\"li\",[t._v(\"产品名称：\"+t._s(t.symMsg.cpmc))]),a(\"li\",[t._v(\"生产日期：\"+t._s(t.symMsg.data))]),a(\"li\",[t._v(\"企业电话：\"+t._s(t.symMsg.fzrtel))]),a(\"li\",[t._v(\"溯源码：\"+t._s(t.symMsg.sym))])]),a(\"div\",{ref:\"qrcode\",staticClass:\"sym\",attrs:{id:\"qrcode\"}})]),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{directives:[{name:\"print\",rawName:\"v-print\",value:\"#printArea\",expression:\"'#printArea'\"}],attrs:{type:\"primary\"}},[t._v(\"打 印\")])],1)])],1)},r=[],s=a(\"1da1\"),i=(a(\"96cf\"),a(\"d044\")),o=a.n(i),c={data:function(){return{tableData:[],printStyle:\"\",printCpmc:\"\",printPch:\"\",cpInfoList:[],cpmcList:[],pchList:[],postMsg:{token:\"\",pch:\"\",cpmc:\"\"},queryInfo:{query:\"\",page:1},symMsg:{cpmc:\"\",data:\"\",fzrtel:\"\",sym:\"\"},tokenStr:\"\",isAddInfo:!0,form:{name:\"\",region:\"\",date1:\"\",date2:\"\",delivery:!1,type:[],resource:\"\",desc:\"\"},printNum:1,printDialogVisible:!1,print2DialogVisible:!1,downloadButton:!1,configs:{value:\"\",imagePath:\"/static/1560242161(1).png\",filter:\"color\"},total:0}},created:function(){this.tokenStr=window.sessionStorage.getItem(\"token\"),this.postMsg.token=window.sessionStorage.getItem(\"token\"),this.getPrintData(),this.getTableData()},methods:{getTableData:function(){var t=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(\"TraceabilityList\",t.queryInfo);case 2:a=e.sent,n=a.data,console.log(n),t.tableData=n.data.result,t.total=n.data.total;case 7:case\"end\":return e.stop()}}),e)})))()},getPrintData:function(){var t=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.queryInfo.token=t.tokenStr,e.next=3,t.$http.post(\"ProductionInfo\",t.queryInfo);case 3:for(a=e.sent,n=a.data,console.log(n),t.cpInfoList=n.data.result,r=0;r<t.cpInfoList.length;r++)-1==t.cpmcList.indexOf(t.cpInfoList[r].cpmc)&&t.cpmcList.push(t.cpInfoList[r].cpmc);case 8:case\"end\":return e.stop()}}),e)})))()},getPch:function(){this.pchList=[];for(var t=0;t<this.cpInfoList.length;t++)this.printCpmc==this.cpInfoList[t].cpmc&&this.pchList.push(this.cpInfoList[t].pch)},handleCurrentChange:function(t){this.queryInfo.page=t,this.getTableData()},createCode:function(t){var e=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(\"\"!=e.printCpmc&&\"\"!=e.printPch){t.next=3;break}return e.$message.error(\"请完善打印信息\"),t.abrupt(\"return\");case 3:return e.postMsg.pch=e.printPch,e.postMsg.cpmc=e.printCpmc,t.next=7,e.$http.post(\"TraceabilityPrint\",e.postMsg);case 7:a=t.sent,n=a.data,console.log(n),e.symMsg.cpmc=n.data.cpmc,e.symMsg.data=n.data.date,e.symMsg.fzrtel=n.data.fzrtel,e.symMsg.sym=n.data.sym,e.codeUrl=e.baseUrl+\"/#/sym/\"+e.symMsg.sym,e.printDialogVisible=!0,e.$nextTick((function(){this.qrcode()}));case 17:case\"end\":return t.stop()}}),t)})))()},qrcode:function(){new o.a(\"qrcode\",{width:135,height:135,text:this.codeUrl})}},watch:{isAddInfo:function(){console.log(this.isAddInfo)}}},l=c,p=(a(\"e8930\"),a(\"2877\")),u=Object(p[\"a\"])(l,n,r,!1,null,\"391ddc6e\",null);e[\"default\"]=u.exports},e8930:function(t,e,a){\"use strict\";a(\"ee50\")},ee50:function(t,e,a){}}]);","extractedComments":[]}